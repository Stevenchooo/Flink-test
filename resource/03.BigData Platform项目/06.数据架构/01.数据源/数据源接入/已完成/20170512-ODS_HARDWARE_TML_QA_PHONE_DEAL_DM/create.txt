CREATE EXTERNAL TABLE IF NOT EXISTS ODS_HARDWARE_TML_QA_PHONE_DEAL_DM
(
TICKET_bigint                string  comment'JOBID，工单号',
IMEI                         string  comment'物理号',
SN                           string  comment'SN号',
ACCEPT_TIME                  string  comment'送修时间',
ACCEPT_TIME_ID               bigint  comment'送修时间ID',
WORK_TIME                    string  comment'生产时间',
WORK_TIME_ID                 bigint  comment'生产时间ID',
SELL_TIME                    string  comment'销售时间',
SELL_TIME_ID                 bigint  comment'销售时间ID',
PURCHASED_TIME               string  comment'购买时间',
FINISH_TIME                  string  comment'维修完成时间',
TAKE_TIME                    string  comment'取机时间',
REAPAIR_TIME                 bigint  comment'维修完成时间-送修时间',
FAULT_TIME                   bigint  comment'送修时间-购机时间',
SOFT_VER_KEY                 bigint  comment'软件版本',
PRODUCT_KEY                  bigint  comment'产品KEY',
PRODUCT_MODEL                string  comment'产品型号',
FAULT_CATEGORY_KEY           bigint  comment'fault1',
FAULT_CATEGORY_NAME          string  comment'(编号)名称”组合，多个大类用,仅用于导出',
FAULT_SUBCATEGORY_NAME       string  comment'(编号)名称”组合，多个小类用,仅用于导出',
REPAIR_WAY_NAME_LIST         string  comment'维修方法名称list',
HIGH_MAINTAIN_FLAG           bigint  comment'1ASC2高维',
OPERATOR_KEY                 bigint  comment'运营商KEY',
COUNTRY_KEY                  bigint  comment'国家维度编码',
REPAIR_PARTNER_KEY           bigint  comment'维修ASC',
SEND_PARTNER_KEY             bigint  comment'送修ASC',
WARRANTY_DETAIL_ID           bigint  comment'保修状态',
WARRANTY_DETAIL_NAME         string  comment'保修状态名称',
NEW_IMEI                     string  comment'新物理号',
NEW_SN                       string  comment'新SN号', 
JOB_TYPE_ID                  bigint  comment'工单类型编码',
JOB_TYPE_NAME                string  comment'工单类型名称',
CHECK_RESULT_NAME            string  comment'质检结果名称',
CHECK_RESULT_ID              bigint  comment'质检结果编码',
CENTER_ORDER_ID              string  comment'任务令',
ITEM_CODE                    string  comment'整机Item编码',
EMS_FACTORY_KEY              bigint  comment'制造工厂编码',
LAST_MODIFIED_string         string  comment'最后修改时间',
CRT_CYCLE_ID                 bigint  comment'数据创建批号ID',
LAST_UPD_CYCLE_ID            bigint  comment'数据更新批号ID',
CRT_JOB_INSTANCE_ID          bigint  comment'数据被创建时的任务ID，内容包括JOB_ID和ETL时间',
UPD_JOB_INSTANCE_ID          bigint  comment'数据被更新时的任务ID，内容包括JOB_ID和ETL时间',
DEL_FLAG                     string  comment'逻辑删除标志，标明数据是否进行了逻辑删除，Y为是，N为否',
MATERIAL_CODE                string  comment'物料编码',
FAULT_APPEARANCE_2ND_KEY     bigint  comment'故障现象2',
FAULT_APPEARANCE_3RD_KEY     bigint  comment'故障现象3',
CUSTOMER_FAULT_DESCRIPTION   string comment'用户故障描述',
SELL_TIME_FLAG               string comment'是否有激活时间',
SELL_LATER_THAN_ACCEPT_FLAG  string  comment'激活时间晚于或等于送修时间标识',
COUNTRY_CN_NAME              string  comment'激活国家中文名称',
PROVINCE                     string  comment'激活省份',
CITY                         string comment'激活城市', 
REPAIR_WAY_CODE_LIST         string  comment'维修方法CODE',
REPAIR_WAY_KEY               string comment'维修方式',
PROD_APD_KEY                 bigint  comment'产品补录KEY',
COUNTRY_CODE                 string comment'国家标准编码',
PAPER_TICKET_bigint          string  comment'纸件工单号',
REMARK                       string  comment'备注', 
ZJ_SN                        string comment'整机SN', 
REPAIR_MATERIAL_CODE_LIST    string  comment'工单消耗所有物料编码LIST',
REPAIR_MATERIAL_NAME_LIST    string  comment'工单消耗所有物料中文名称LIST',
REPAIR_MATERIAL_EN_NAME_LIST string  comment'工单消耗所有物料英文名称list'                          
)
comment'工单维修部门人工维护的设备信息表'
PARTITIONED BY (                                                    
     pt_d string)                                                    
   ROW FORMAT SERDE                                                    
     'org.apache.hadoop.hive.ql.io.orc.OrcSerde'                       
   WITH SERDEPROPERTIES (                                              
     'field.delim'='\001',                                               
     'line.delim'='\n',                                                
     'serialization.format'='\001')                                      
   STORED AS INPUTFORMAT                                               
     'org.apache.hadoop.hive.ql.io.orc.OrcInputFormat'                 
   OUTPUTFORMAT                                                        
     'org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat'                
   LOCATION                                                            
     'hdfs://hacluster/AppData/BIProd/ODS/TML/ODS_TML_QA_PHONE_DEAL_DM';
	 

CREATE EXTERNAL TABLE IF NOT EXISTS ODS_HARDWARE_BAS_TML_QA_PRODUCTTEAM_DS
(
PRODUCT_KEY                   bigint      comment'产品维Key',
PROD_ID                       bigint      comment'产品ID',
PROD_CODE                     string      comment'产品编号',
PROD_CN_NAME                  string     comment'中文名称',
PROD_EN_NAME                  string      comment'英文名称',
CN_DESCRIPTION                string     comment'中文描述',
EN_DESCRIPTION                string     comment'英文描述',
LV0_PROD_RND_TEAM_CODE        string     comment'零级产品研发团队代码',
LV0_PROD_RD_TEAM_CN_NAME      string     comment'零级产品研发团队中文名称',
LV0_PROD_RD_TEAM_EN_NAME      string     comment'零级产品研发团队英文名称',
LV0_PROD_RD_TEAM_CATEGORY     string      comment'类型',
LV0_PROD_RD_TEAM_ID           bigint      comment'目录ID',
LV0_PROD_RD_TEAM_KEY          bigint      comment'目录KEY',
LV1_PROD_RND_TEAM_CODE        string     comment'一级产品研发团队代码研发层次的顶层',
LV1_PROD_RD_TEAM_CN_NAME      string     comment'一级产品研发团队中文名称',
LV1_PROD_RD_TEAM_EN_NAME      string      comment'一级产品研发团队英文名称',
LV1_PROD_RD_TEAM_CATEGORY     string     comment'类型',
LV1_PROD_RD_TEAM_ID           bigint      comment'目录ID',
LV1_PROD_RD_TEAM_KEY          bigint      comment'目录KEY',
LV2_PROD_RND_TEAM_CODE        string      comment'二级产品研发团队代码',
LV2_PROD_RD_TEAM_CN_NAME      string      comment'二级产品研发团队中文名称',
LV2_PROD_RD_TEAM_EN_NAME      string     comment'二级产品研发团队英文名称',
LV2_PROD_RD_TEAM_CATEGORY     string      comment'类型',
LV2_PROD_RD_TEAM_ID           bigint      comment'目录ID',
LV2_PROD_RD_TEAM_KEY          bigint      comment'目录KEY',
LV3_PROD_RND_TEAM_CODE        string     comment'三级产品研发团队代码',
LV3_PROD_RD_TEAM_CN_NAME      string      comment'三级产品研发团队中文名称',
LV3_PROD_RD_TEAM_EN_NAME      string   comment'三级产品研发团队英文名称',
LV3_PROD_RD_TEAM_CATEGORY     string      comment'类型',
LV3_PROD_RD_TEAM_ID           bigint      comment'目录ID',
LV3_PROD_RD_TEAM_KEY          bigint      comment'目录KEY',
LV4_PROD_RND_TEAM_CODE        string      comment'四级产品研发团队代码研发层次树最低层',
LV4_PROD_RD_TEAM_CN_NAME      string     comment'四级产品研发团队中文名称',
LV4_PROD_RD_TEAM_EN_NAME      string     comment'四级产品研发团队',
LV4_PROD_RD_TEAM_CATEGORY     string      comment'类型',
LV4_PROD_RD_TEAM_ID           bigint      comment'目录ID',
LV4_PROD_RD_TEAM_KEY          bigint      comment'目录KEY',
SCD_ACTIVE_BEGIN_string       string      comment'在缓慢变化维度中，表明当前行有效开始的时间',
SCD_ACTIVE_END_string         string      comment'在缓慢变化维度中，表明当前行有效结束的时间',
SCD_ACTIVE_IND                string     comment'对缓慢变化维度，标识此行是否有效。1-有效,0-无效',
LEAVE                         bigint      comment'层级',
FOR_FINANCE_FLAG              string     comment'用于财务标志',
SMART_PHONE_FLAG              string      comment'智能机标志',
FEATURE_PHONE_FLAG            string     comment'特色机标志',
TYPE                          string    comment'类型1:OFFERING2:ORG',
SSID                          bigint      comment'原系统来源',
CREATE_string                 string      comment'创建日期',
LAST_UPstring_string          string      comment'最后更新时间',
LAST_MODIFIED_string          string      comment'最后修改时间',
CRT_CYCLE_ID                  bigint      comment'数据创建批号ID',
LAST_UPD_CYCLE_ID             bigint      comment'数据更新批号ID',
CRT_JOB_INSTANCE_ID           bigint      comment'数据被创建时的任务ID，内容包括JOB_ID和ETL时间',
UPD_JOB_INSTANCE_ID           bigint      comment'数据被更新时的任务ID，内容包括JOB_ID和ETL时间',
DEL_FLAG                      string      comment'逻辑删除标志，标明数据是否进行了逻辑删除，Y为是，N为否' ,
HONOUR_PHONE_FLAG             string      comment'荣耀机标志（Y：是，N：否）',
PROD_SERIES                   string      comment'产品系列',
MOBILE_WIFI_FLAG              string      comment'无线宽带考核：MobileWi-Fi标识',
CPE_FLAG                      string     comment'无线宽带考核：CPE标识',
PROD_TYPE                     string     comment'自研/合作',
PDU_NAME                      string      comment'产品PDU',
IF_ACCOUNT                    string      comment'是否参与统计',
CHIP_PLATFORM_NAME            string      comment'所属芯片平台',
HIS_LISTED_PERIOD             bigint      comment'历史上市月份',
NEW_LISTED_PERIOD             bigint      comment'新上市月份',
NEW_PROD_RANGE                string     comment'新产品范围',
NEW_PROD_FLAG                 string      comment'新产品标志',
LAST_LISTED_PERIOD            bigint      comment'最终上市月份',
KEY_INFO_FLAG                 string      comment'敏感信息标识（Y：是，N：否）',
EXPIRE_TIME                   bigint      comment'失效时间',
EXPIRE_FLAG                   string     comment'失效标识（Y：是，N：否）',
TL9000_PROD_CATEGORY          string     comment'TL9000产品类别',
UNCOUNT_YEAR                  bigint      comment'不参与统计的起始年份(如：2016)'
)comment'工单维修部门人工维护的设备信息表'
ROW FORMAT SERDE                                                          
         'org.apache.hadoop.hive.ql.io.orc.OrcSerde'                             
       WITH SERDEPROPERTIES (                                                    
         'field.delim'='\001',                                                 
         'line.delim'='\n',                                                      
         'serialization.format'='\001')                                        
       STORED AS INPUTFORMAT                                                     
         'org.apache.hadoop.hive.ql.io.orc.OrcInputFormat'                       
       OUTPUTFORMAT                                                              
         'org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat'                      
       LOCATION                                                                  
         'hdfs://hacluster/AppData/BIProd/ODS/HARDWARE/ODS_HARDWARE_BAS_TML_QA_PRODUCTTEAM_DS' ;