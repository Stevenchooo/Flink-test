<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:context="http://www.springframework.org/schema/context" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="   
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd   
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd   
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd   
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">

	<!-- 在这里定义spring的bean,scope必须配置prototype/request -->
	<!-- <bean id="mktActPlanAction" class="com.huawei.platform.action.MktActPlanAction" 
		scope="prototype"> <property name="mktIntelDao" ref="mktIntelDao"/> </bean> -->
	<bean id="loadTasksAction" class="com.huawei.platform.tcc.action.LoadTasksAction">
		<property name="tccService" ref="tccService" />
		<property name="tccDao" ref="tccDao" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
		<property name="taskManage" ref="taskManage" />
		<property name="alarmThreManage" ref="alarmThreManage" />
	</bean>
		
	<bean id="loginAction" class="com.huawei.platform.tcc.action.LoginAction" scope="prototype">
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="tccService" class="com.huawei.platform.tcc.service.impl.TccServiceImpl">
		<property name="tccDao" ref="tccDao" />
		<property name="cycleManage" ref="cycleManage" />
		<property name="taskManage" ref="taskManage" />
		<property name="alarmThreManage" ref="alarmThreManage" />
		<property name="alarming" ref="alarming" />
		<property name="sshManager" ref="sshManager" />
		<property name="sshRTManager" ref="sshRTManager" />
		<property name="connInfoManager" ref="connInfoManager" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<qualifier value="tccService" />
	</bean>
	
	<bean id="cycleManage" class="com.huawei.platform.tcc.cycle.CycleManage">
		<property name="tccDao" ref="tccDao" />
	</bean>
	
	<bean id="taskManage" class="com.huawei.platform.tcc.task.TaskManage">
		<property name="tccDao" ref="tccDao" />
		<qualifier value="taskManage" />
	</bean>
	
	<bean id="alarmThreManage" class="com.huawei.platform.tcc.alarm.AlarmThresholdManage">
		<property name="tccDao" ref="tccDao" />
	</bean>
	
	<bean id="alarming" class="com.huawei.platform.tcc.alarm.Alarming">
		<property name="tccDao" ref="tccDao" />
		<property name="emailServer" ref="emailServer" />
		<!--<property name="pushSever" ref="pushSever" />-->
	</bean>
	
	<bean id="emailServer" class="com.huawei.platform.tcc.server.AsyncEmailServer">
	</bean>
	
	<bean id="sshManager" class="com.huawei.platform.tcc.SSH.SSHManager">
	</bean>
	
	<bean id="sshRTManager" class="com.huawei.platform.tcc.SSH.SSHManager">
		<property name="rtSSH" value="true" />
	</bean>

	<bean id="tccPortalService"
		class="com.huawei.platform.tcc.service.impl.TccPortalServiceImpl">
		<property name="tccDao" ref="tccDao" />
		<property name="daoFactory" ref="daoFactory" />
	</bean>

	<bean id="tccDao" class="com.huawei.platform.tcc.dao.impl.TccDaoImpl">
		<qualifier value="tccDao" />
	</bean>
	
	<bean id="taskDGAction" class="com.huawei.platform.tcc.action.TaskDGAction"
		scope="prototype">
		<property name="taskManage" ref="taskManage" />
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="tccService" ref="tccService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="taskInstanceDGAction" class="com.huawei.platform.tcc.action.TaskInstanceDGAction"
		scope="prototype">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="tccService" ref="tccService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>
	
	<bean id="tccTaskAction" class="com.huawei.platform.tcc.action.TccTaskAction"
		scope="prototype">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="tccService" ref="tccService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
		<property name="sync2Produce" ref="sync2Produce" />
		<property name="sync2Test" ref="sync2Test" />
	</bean>
	
	<bean id="sync2Produce" class="com.huawei.platform.tcc.sync.Sync2Produce">
		<property name="tccDao" ref="tccDao" />
		<property name="daoFactory" ref="daoFactory" />
		<property name="taskManage" ref="taskManage" />
		<property name="alarmThreManage" ref="alarmThreManage" />
	</bean>
	
	<bean id="sync2Test" class="com.huawei.platform.tcc.sync.Sync2Test">
		<property name="tccDao" ref="tccDao" />
		<property name="daoFactory" ref="daoFactory" />
		<property name="taskManage" ref="taskManage" />
		<property name="alarmThreManage" ref="alarmThreManage" />
	</bean>
	
	<bean id="longShellQueryAction" class="com.huawei.platform.tcc.action.LongShellQueryAction">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
	</bean>

	<bean id="taskStepAction" class="com.huawei.platform.tcc.action.TaskStepAction"
		scope="prototype">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="taskRunningDetailAction" class="com.huawei.platform.tcc.action.TaskRunningDetailAction">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="tccService" ref="tccService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
	</bean>

	<bean id="taskRunningStateQueryAction"
		class="com.huawei.platform.tcc.action.TaskRunningStateQueryAction">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="tccService" ref="tccService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="dependTaskTreeAction" class="com.huawei.platform.tcc.action.DependTaskTreeAction">
		<property name="tccService" ref="tccService" />
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
	</bean>

	<bean id="log2DBQueryAction" class="com.huawei.platform.tcc.action.Log2DBQueryAction">
		<property name="tccPortalService" ref="tccPortalService" />
	</bean>

	<bean id="tccConfigAction" class="com.huawei.platform.tcc.action.TccConfigAction"
		scope="prototype">
		<property name="tccSysConfigService" ref="tccSysConfigService" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="taskCycleQueueAction" class="com.huawei.platform.tcc.action.TaskCycleQueueAction">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="tccService" ref="tccService" />
		<property name="operatorMgnt" ref="operatorMgnt" />
	</bean>

	<bean id="serviceManageAction" class="com.huawei.platform.tcc.action.ServiceManageAction"
		scope="prototype">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="operationRecord" ref="operationRecord" />
		<property name="operatorMgnt" ref="operatorMgnt" />
	</bean>

	<bean id="operatorMgnt" class="com.huawei.platform.tcc.privilegeControl.OperatorMgnt">
		<property name="tccDao" ref="tccDao" />
	</bean>

    <bean id="userManageAction" class="com.huawei.platform.tcc.action.UserManageAction">
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>
	

	<bean id="roleManageAction" class="com.huawei.platform.tcc.action.RoleManageAction">
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="oSUserManageAction" class="com.huawei.platform.tcc.action.OSUserManageAction">
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
		<property name="tccDao" ref="tccDao" />
	</bean>
	
	<bean id="oSGroupManageAction" class="com.huawei.platform.tcc.action.OSGroupManageAction">
		<property name="operationRecord" ref="operationRecord" />
		<property name="tccDao" ref="tccDao" />
	</bean>
	
   <bean id="nodeManageAction" class="com.huawei.platform.tcc.action.NodeManageAction">
   		<property name="operationRecord" ref="operationRecord" />
		<property name="tccDao" ref="tccDao" />
	</bean>
	
	<bean id="connInfoManager" class="com.huawei.platform.tcc.listener.ConnInfoManager">
		<property name="tccDao" ref="tccDao" />
	</bean>

	<bean id="operationRecord" class="com.huawei.platform.tcc.audit.impl.OperationRecordImpl">
		<property name="tccDao" ref="tccDao" />
	</bean>

	<bean id="operationRecordAction" class="com.huawei.platform.tcc.action.OperationRecordAction">
		<property name="operatorMgnt" ref="operatorMgnt" />
		<property name="operationRecord" ref="operationRecord" />
	</bean>

	<bean id="alarmManageAction" class="com.huawei.platform.tcc.action.AlarmManageAction">
		<property name="tccPortalService" ref="tccPortalService" />
		<property name="operationRecord" ref="operationRecord" />
		<property name="operatorMgnt" ref="operatorMgnt" />
	</bean>
      
</beans>  