<?xml version="1.0" encoding="UTF-8"?>
<talendfile:ProcessType xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:talendfile="platform:/resource/org.talend.model/model/TalendFile.xsd" defaultContext="Default">
  <context confirmationNeeded="false" name="Default">
    <contextParameter comment="数据库数据源" name="dbSource" prompt="dbSource?" promptNeeded="false" type="id_Object" value=""/>
    <contextParameter comment="目标文件名" name="destFileName" prompt="destFileName?" promptNeeded="false" type="id_String" value=""/>
    <contextParameter comment="任务包跟目录" name="rootDir" prompt="rootDir?" promptNeeded="false" type="id_String" value=""/>
    <contextParameter comment="抽取sql语句" name="extractSql" prompt="extractSql?" promptNeeded="false" type="id_String" value=""/>
    <contextParameter comment="目标文件格式" name="destFileFormat" prompt="destFileFormat?" promptNeeded="false" type="id_Object" value=""/>
  </context>
  <parameters>
    <elementParameter field="TEXT" name="JOB_RUN_VM_ARGUMENTS" value=" -Xms256M -Xmx1024M"/>
    <elementParameter field="CHECK" name="JOB_RUN_VM_ARGUMENTS_OPTION" value="false"/>
    <elementParameter field="TEXT" name="SCREEN_OFFSET_X" value="0"/>
    <elementParameter field="TEXT" name="SCREEN_OFFSET_Y" value="0"/>
    <elementParameter field="TEXT" name="SCHEMA_OPTIONS" value="none"/>
    <elementParameter field="TEXT" name="OEM_CUSTOM_ATTRIBUTE" value=""/>
    <elementParameter field="TEXT" name="HADOOP_APP_PATH" value=""/>
    <elementParameter field="TEXT" name="JOBID_FOR_OOZIE" value=""/>
    <elementParameter field="CHECK" name="IMPLICITCONTEXT_USE_PROJECT_SETTINGS" value="true"/>
    <elementParameter field="CHECK" name="STATANDLOG_USE_PROJECT_SETTINGS" value="true"/>
    <elementParameter field="FILE" name="IMPLICIT_TCONTEXTLOAD_FILE" value="&quot;&quot;"/>
    <elementParameter field="TEXT" name="FIELDSEPARATOR" value="&quot;&quot;"/>
    <elementParameter field="CLOSED_LIST" name="DB_VERSION_IMPLICIT_CONTEXT" value=""/>
    <elementParameter field="CHECK" name="DISABLE_WARNINGS" value="false"/>
    <elementParameter field="CHECK" name="DISABLE_INFO" value="false"/>
    <elementParameter field="TECHNICAL" name="ENCODING:ENCODING_TYPE" value="ISO-8859-15"/>
    <elementParameter field="CLOSED_LIST" name="DB_VERSION" value="ojdbc14-10g.jar"/>
    <routinesParameter id="_5v3RgOv-EeGmppyhAa50Yw" name="DataOperation"/>
    <routinesParameter id="_5x8VIOv-EeGmppyhAa50Yw" name="Mathematical"/>
    <routinesParameter id="_5yZBE-v-EeGmppyhAa50Yw" name="Numeric"/>
    <routinesParameter id="_5yiLA-v-EeGmppyhAa50Yw" name="Relational"/>
    <routinesParameter id="_5y1tA-v-EeGmppyhAa50Yw" name="StringHandling"/>
    <routinesParameter id="_5zIn8-v-EeGmppyhAa50Yw" name="TalendDataGenerator"/>
    <routinesParameter id="_51NrkOv-EeGmppyhAa50Yw" name="TalendDate"/>
    <routinesParameter id="_52HDcOv-EeGmppyhAa50Yw" name="TalendString"/>
    <routinesParameter id="_qCoyYKoNEeG2Re9WGcyrGg" name="ADUtils"/>
    <routinesParameter id="_rElZ8BynEeGQUfpxDM0i4w" name="CommonUtil"/>
    <routinesParameter id="_GxkYIBsYEeGKZrJsnG4oZw" name="DecodeBase64"/>
    <routinesParameter id="_hNPxgBpvEeGKZrJsnG4oZw" name="RecordSeparate"/>
  </parameters>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="128" posY="320">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_2"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="Logger logger = (Logger)globalMap.get(&quot;logger&quot;);&#xA;&#xA;logger.info(&quot;MysqlExtract subjob end successfully.&quot;);"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="//import java.util.List;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_2"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="128" posY="192">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_1"/>
    <elementParameter field="CHECK" name="START" value="true"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="Logger logger = Logger.getLogger(jobName);&#xA;globalMap.put(&quot;logger&quot;, logger);&#xA;&#xA;logger.info(&quot;MysqlExtract subjob start...&quot;);&#xA;&#xA;logger.debug(&quot;rootDir=&quot; + context.rootDir);&#xA;logger.debug(&quot;destFileName=&quot; + context.destFileName);&#xA;logger.debug(&quot;extractSql=&quot; + context.extractSql);&#xA;&#xA;logger.debug(&quot;DestFileFormat&quot;);&#xA;DestFileFormat destFileFormat = (DestFileFormat) context.destFileFormat;&#xA;logger.debug(&quot;fieldSeparator=&quot; + destFileFormat.getFieldSeparator());&#xA;logger.debug(&quot;lineSeparator=&quot; + destFileFormat.getLineSeparator());&#xA;&#xA;logger.debug(&quot;DBSource：&quot;);&#xA;DBSourceInfo dbSourceInfo = (DBSourceInfo) context.dbSource;&#xA;logger.debug(&quot;dbType=&quot; + dbSourceInfo.getType());&#xA;logger.debug(&quot;dbHost=&quot; + dbSourceInfo.getHost());&#xA;logger.debug(&quot;dbPort=&quot; + dbSourceInfo.getPort());&#xA;logger.debug(&quot;dbName=&quot; + dbSourceInfo.getDbName());&#xA;logger.debug(&quot;dbUsername=&quot; + dbSourceInfo.getUserName());&#xA;&#xA;logger.debug(&quot;dbAdditionalInfo=&quot; + dbSourceInfo.getAdditionalParams());"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="import java.util.Iterator;&#xA;import java.util.Map;&#xA;import java.util.Set;&#xA;&#xA;import org.apache.log4j.Logger;&#xA;&#xA;import com.huawei.etl.envconf.DBSourceInfo;&#xA;import com.huawei.etl.appconf.DestFileFormat;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_1"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="320" posY="192">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_4"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="Logger logger = (Logger)globalMap.get(&quot;logger&quot;);&#xA;&#xA;DBSourceInfo dbSourceInfo = (DBSourceInfo) context.dbSource;&#xA;globalMap.put(&quot;dbType&quot;, dbSourceInfo.getType());&#xA;&#xA;logger.info(&quot;开始从数据库提取数据...&quot;);"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="//import java.util.List;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_4"/>
  </node>
  <node componentName="tMysqlConnection" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="512" posY="64">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMysqlConnection_1"/>
    <elementParameter field="CLOSED_LIST" name="DB_VERSION" value="mysql-connector-java-5.1.0-bin.jar"/>
    <elementParameter field="TEXT" name="HOST" value="((DBSourceInfo)context.dbSource).getHost()"/>
    <elementParameter field="TEXT" name="TYPE" value="MySQL"/>
    <elementParameter field="TEXT" name="PORT" value="((DBSourceInfo)context.dbSource).getPort()"/>
    <elementParameter field="TEXT" name="DBNAME" value="((DBSourceInfo)context.dbSource).getDbName()"/>
    <elementParameter field="TEXT" name="PROPERTIES" value="((DBSourceInfo)context.dbSource).getAdditionalParams()"/>
    <elementParameter field="TEXT" name="USER" value="((DBSourceInfo)context.dbSource).getUserName()"/>
    <elementParameter field="TEXT" name="PASS" value="((DBSourceInfo)context.dbSource).getPassword()"/>
    <elementParameter field="ENCODING_TYPE" name="ENCODING" value="&quot;ISO-8859-15&quot;"/>
    <elementParameter field="TECHNICAL" name="ENCODING:ENCODING_TYPE" value="ISO-8859-15"/>
    <elementParameter field="CHECK" name="USE_SHARED_CONNECTION" value="false"/>
    <elementParameter field="TEXT" name="SHARED_CONNECTION_NAME" value=""/>
    <elementParameter field="CHECK" name="AUTO_COMMIT" value="false"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="928" posY="192">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_5"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="Logger logger = (Logger)globalMap.get(&quot;logger&quot;);&#xA;&#xA;DestFileFormat destFileFormat = (DestFileFormat) context.destFileFormat;&#xA;&#xA;String fieldSeparator = destFileFormat.getFieldSeparator();&#xA;String lineSeparator = destFileFormat.getLineSeparator();&#xA;&#xA;String destFilePath = context.rootDir + &quot;/work/&quot; + context.destFileName;&#xA;Writer writer = new BufferedWriter(&#xA;&#x9;new OutputStreamWriter(&#xA;&#x9;&#x9;new FileOutputStream(&#xA;&#x9;&#x9;&#x9;destFilePath, false), &quot;utf-8&quot;));&#xA;&#xA;Connection conn = (Connection) globalMap.get(&quot;conn&quot;);&#xA;&#xA;Statement stmt = conn.createStatement();&#xA;stmt.setFetchSize(1000);&#xA;&#xA;// FetchSize对mysql无效，大数据量可能导致内存溢出，采用如下方法规避&#xA;String dbType = (String) globalMap.get(&quot;dbType&quot;);&#xA;if (dbType.equalsIgnoreCase(&quot;mysql&quot;)) {&#xA;&#x9;((com.mysql.jdbc.Statement) stmt).enableStreamingResults();&#xA;}&#xA; &#xA;ResultSet rs = stmt.executeQuery(context.extractSql);&#xA;int count = rs.getMetaData().getColumnCount();&#xA;    &#xA;StringBuilder sb = new StringBuilder(1024 * 10);&#xA;&#x9;&#xA;while (rs.next()) {&#xA;&#x9;try {&#xA;        sb.delete(0, sb.length());&#xA;        &#xA;        for (int i = 1; i &lt; count; i++) {&#xA;&#x9;&#x9;&#x9;String value = rs.getString(i);&#xA;           &#x9;sb.append(value == null ? &quot;&quot; : value);&#xA;           &#x9;sb.append(fieldSeparator);&#xA;        }&#xA;        &#xA;        String value = rs.getString(count);&#xA;        sb.append(value == null ? &quot;&quot; : value);&#xA;        sb.append(lineSeparator);&#xA;        &#xA;        writer.write(sb.toString());&#xA;&#x9;} catch (Exception e) {&#xA;&#x9;&#x9;logger.debug(e);&#xA;&#x9;}&#xA;}&#xA;&#xA;writer.flush();&#xA;writer.close();&#xA;&#xA;rs.close();&#xA;stmt.close();"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="import java.sql.Connection;&#xA;import java.sql.Statement;&#xA;import java.sql.ResultSet;&#xA;&#xA;import java.io.Writer;&#xA;import java.io.FileOutputStream;&#xA;import java.io.BufferedWriter;&#xA;import java.io.OutputStreamWriter;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_5"/>
  </node>
  <node componentName="tMysqlClose" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="1120" posY="64">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMysqlClose_1"/>
    <elementParameter field="COMPONENT_LIST" name="CONNECTION" value="tMysqlConnection_1"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tOracleConnection" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="512" posY="192">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tOracleConnection_1"/>
    <elementParameter field="CLOSED_LIST" name="CONNECTION_TYPE" value="ORACLE_SID"/>
    <elementParameter field="CLOSED_LIST" name="DB_VERSION" value="ojdbc5-11g.jar"/>
    <elementParameter field="TEXT" name="RAC_URL" value="&quot;&quot;"/>
    <elementParameter field="CHECK" name="USE_TNS_FILE" value="false"/>
    <elementParameter field="FILE" name="TNS_FILE" value="&quot;&quot;"/>
    <elementParameter field="TNS_EDITOR" name="TNS_EDITOR" value=""/>
    <elementParameter field="TEXT" name="HOST" value="((DBSourceInfo)context.dbSource).getHost()"/>
    <elementParameter field="TEXT" name="TYPE" value="Oracle"/>
    <elementParameter field="TEXT" name="PORT" value="((DBSourceInfo)context.dbSource).getPort()"/>
    <elementParameter field="TEXT" name="DBNAME" value="((DBSourceInfo)context.dbSource).getDbName()"/>
    <elementParameter field="TEXT" name="LOCAL_SERVICE_NAME" value="&quot;&quot;"/>
    <elementParameter field="TEXT" name="SCHEMA_DB" value="&quot;&quot;"/>
    <elementParameter field="TEXT" name="USER" value="((DBSourceInfo)context.dbSource).getUserName()"/>
    <elementParameter field="TEXT" name="PASS" value="((DBSourceInfo)context.dbSource).getPassword()"/>
    <elementParameter field="ENCODING_TYPE" name="ENCODING" value="&quot;ISO-8859-15&quot;"/>
    <elementParameter field="TECHNICAL" name="ENCODING:ENCODING_TYPE" value="ISO-8859-15"/>
    <elementParameter field="TEXT" name="PROPERTIES" value="((DBSourceInfo)context.dbSource).getAdditionalParams()"/>
    <elementParameter field="LABEL" name="NOTE" value="*Note: Example for Additional JDBC Parameters: &quot;parameterName1=value1&amp;&amp;parameterName2=value2&quot;"/>
    <elementParameter field="CHECK" name="USE_SHARED_CONNECTION" value="false"/>
    <elementParameter field="TEXT" name="SHARED_CONNECTION_NAME" value=""/>
    <elementParameter field="TEXT" name="JDBC_URL" value="&quot;jdbc:oracle:thin:USER/MDP@server&quot;"/>
    <elementParameter field="CHECK" name="AUTO_COMMIT" value="false"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tOracleClose" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="1120" posY="192">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tOracleClose_1"/>
    <elementParameter field="COMPONENT_LIST" name="CONNECTION" value="tOracleConnection_1"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tHiveConnection" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="512" posY="320">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tHiveConnection_1"/>
    <elementParameter field="CLOSED_LIST" name="HIVE_VERSION" value="APACHE_0_20_203"/>
    <elementParameter field="CLOSED_LIST" name="CONNECTION_MODE" value="STANDALONE"/>
    <elementParameter field="TEXT" name="HOST" value="((DBSourceInfo)context.dbSource).getHost()"/>
    <elementParameter field="TEXT" name="TYPE" value="Hive"/>
    <elementParameter field="TEXT" name="PORT" value="((DBSourceInfo)context.dbSource).getPort()"/>
    <elementParameter field="TEXT" name="DBNAME" value="((DBSourceInfo)context.dbSource).getDbName()"/>
    <elementParameter field="TEXT" name="USER" value="((DBSourceInfo)context.dbSource).getUserName()"/>
    <elementParameter field="TEXT" name="PASS" value="((DBSourceInfo)context.dbSource).getPassword()"/>
    <elementParameter field="CHECK" name="SET_MAPRED_JT" value="false"/>
    <elementParameter field="TEXT" name="MAPRED_JT" value="&quot;localhost:50300&quot;"/>
    <elementParameter field="CHECK" name="SET_FS_DEFAULT_NAME" value="false"/>
    <elementParameter field="TEXT" name="FS_DEFAULT_NAME" value="&quot;hdfs://localhost:8020&quot;"/>
    <elementParameter field="ENCODING_TYPE" name="ENCODING" value="&quot;UTF-8&quot;"/>
    <elementParameter field="TECHNICAL" name="ENCODING:ENCODING_TYPE" value="UTF-8"/>
    <elementParameter field="CHECK" name="USE_SHARED_CONNECTION" value="false"/>
    <elementParameter field="TEXT" name="SHARED_CONNECTION_NAME" value=""/>
    <elementParameter field="TABLE" name="HADOOP_ADVANCED_PROPERTIES"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tHiveClose" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="1120" posY="320">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tHiveClose_1"/>
    <elementParameter field="COMPONENT_LIST" name="CONNECTION" value="tHiveConnection_1"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="736" posY="64">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_6"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="&#xA;globalMap.put(&quot;conn&quot;, globalMap.get(&quot;conn_tMysqlConnection_1&quot;));"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="import java.sql.Connection;&#xA;import java.sql.Statement;&#xA;import java.sql.ResultSet;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_6"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="736" posY="192">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_7"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="&#xA;globalMap.put(&quot;conn&quot;, globalMap.get(&quot;conn_tOracleConnection_1&quot;));"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="import java.sql.Connection;&#xA;import java.sql.Statement;&#xA;import java.sql.ResultSet;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_7"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="736" posY="320">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_8"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="&#xA;globalMap.put(&quot;conn&quot;, globalMap.get(&quot;conn_tHiveConnection_1&quot;));"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="import java.sql.Connection;&#xA;import java.sql.Statement;&#xA;import java.sql.ResultSet;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_8"/>
  </node>
  <node componentName="tMSSqlConnection" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="512" posY="448">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMSSqlConnection_1"/>
    <elementParameter field="TEXT" name="HOST" value="((DBSourceInfo)context.dbSource).getHost()"/>
    <elementParameter field="TEXT" name="TYPE" value="MSSQL"/>
    <elementParameter field="TEXT" name="PORT" value="((DBSourceInfo)context.dbSource).getPort()"/>
    <elementParameter field="TEXT" name="SCHEMA_DB" value="&quot;&quot;"/>
    <elementParameter field="TEXT" name="DBNAME" value="((DBSourceInfo)context.dbSource).getDbName()"/>
    <elementParameter field="TEXT" name="USER" value="((DBSourceInfo)context.dbSource).getUserName()"/>
    <elementParameter field="TEXT" name="PASS" value="((DBSourceInfo)context.dbSource).getPassword()"/>
    <elementParameter field="ENCODING_TYPE" name="ENCODING" value="&quot;ISO-8859-15&quot;"/>
    <elementParameter field="TECHNICAL" name="ENCODING:ENCODING_TYPE" value="ISO-8859-15"/>
    <elementParameter field="TEXT" name="PROPERTIES" value="((DBSourceInfo)context.dbSource).getAdditionalParams()"/>
    <elementParameter field="CHECK" name="USE_SHARED_CONNECTION" value="false"/>
    <elementParameter field="TEXT" name="SHARED_CONNECTION_NAME" value=""/>
    <elementParameter field="CHECK" name="AUTO_COMMIT" value="false"/>
    <elementParameter field="CHECK" name="SHARE_IDENTITY_SETTING" value="false"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <node componentName="tJava" componentVersion="0.101" offsetLabelX="0" offsetLabelY="0" posX="736" posY="448">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_9"/>
    <elementParameter field="MEMO_JAVA" name="CODE" value="&#xA;globalMap.put(&quot;conn&quot;, globalMap.get(&quot;conn_tMSSqlConnection_1&quot;));"/>
    <elementParameter field="MEMO_IMPORT" name="IMPORT" value="import java.sql.Connection;&#xA;import java.sql.Statement;&#xA;import java.sql.ResultSet;"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
    <metadata connector="FLOW" name="tJava_9"/>
  </node>
  <node componentName="tMSSqlClose" componentVersion="0.102" offsetLabelX="0" offsetLabelY="0" posX="1120" posY="448">
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMSSqlClose_1"/>
    <elementParameter field="COMPONENT_LIST" name="CONNECTION" value="tMSSqlConnection_1"/>
    <elementParameter field="TEXT" name="CONNECTION_FORMAT" value="row"/>
    <elementParameter field="CHECK" name="INFORMATION" value="false"/>
    <elementParameter field="MEMO" name="COMMENT" value=""/>
    <elementParameter field="CHECK" name="VALIDATION_RULES" value="false"/>
  </node>
  <connection connectorName="SUBJOB_OK" label="OnSubjobOk" lineStyle="1" metaname="tJava_1" offsetLabelX="0" offsetLabelY="0" outputId="1" source="tJava_1" target="tJava_4">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnSubjobOk3"/>
  </connection>
  <connection connectorName="SUBJOB_OK" label="OnSubjobOk" lineStyle="1" metaname="tJava_1" offsetLabelX="0" offsetLabelY="0" outputId="2" source="tJava_1" target="tJava_2">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnSubjobOk2"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_4" offsetLabelX="0" offsetLabelY="0" outputId="1" source="tJava_4" target="tMysqlConnection_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;mysql&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If4"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_4" offsetLabelX="0" offsetLabelY="0" outputId="2" source="tJava_4" target="tOracleConnection_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;oracle&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If5"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_4" offsetLabelX="0" offsetLabelY="0" outputId="3" source="tJava_4" target="tHiveConnection_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;hive&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If6"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_4" offsetLabelX="0" offsetLabelY="0" outputId="4" source="tJava_4" target="tMSSqlConnection_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;MSSQLSERVER&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If7"/>
  </connection>
  <connection connectorName="SUBJOB_OK" label="OnSubjobOk" lineStyle="1" metaname="tMysqlConnection_1" offsetLabelX="0" offsetLabelY="0" source="tMysqlConnection_1" target="tJava_6">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnSubjobOk4"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_5" offsetLabelX="0" offsetLabelY="0" outputId="1" source="tJava_5" target="tMysqlClose_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;mysql&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If2"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_5" offsetLabelX="0" offsetLabelY="0" outputId="2" source="tJava_5" target="tOracleClose_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;oracle&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If3"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_5" offsetLabelX="0" offsetLabelY="0" outputId="3" source="tJava_5" target="tHiveClose_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;hive&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If7"/>
  </connection>
  <connection connectorName="RUN_IF" label="If" lineStyle="6" metaname="tJava_5" offsetLabelX="0" offsetLabelY="0" outputId="4" source="tJava_5" target="tMSSqlClose_1">
    <elementParameter field="MEMO_JAVA" name="CONDITION" value="((String) globalMap.get(&quot;dbType&quot;)).equalsIgnoreCase(&quot;MSSQLSERVER&quot;)"/>
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="If8"/>
  </connection>
  <connection connectorName="SUBJOB_OK" label="OnSubjobOk" lineStyle="1" metaname="tOracleConnection_1" offsetLabelX="0" offsetLabelY="0" source="tOracleConnection_1" target="tJava_7">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnSubjobOk5"/>
  </connection>
  <connection connectorName="SUBJOB_OK" label="OnSubjobOk" lineStyle="1" metaname="tHiveConnection_1" offsetLabelX="0" offsetLabelY="0" source="tHiveConnection_1" target="tJava_8">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnSubjobOk6"/>
  </connection>
  <connection connectorName="COMPONENT_OK" label="OnComponentOk" lineStyle="3" metaname="tJava_6" offsetLabelX="0" offsetLabelY="0" source="tJava_6" target="tJava_5">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnComponentOk1"/>
  </connection>
  <connection connectorName="COMPONENT_OK" label="OnComponentOk" lineStyle="3" metaname="tJava_7" offsetLabelX="0" offsetLabelY="0" source="tJava_7" target="tJava_5">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnComponentOk2"/>
  </connection>
  <connection connectorName="COMPONENT_OK" label="OnComponentOk" lineStyle="3" metaname="tJava_8" offsetLabelX="0" offsetLabelY="0" source="tJava_8" target="tJava_5">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnComponentOk3"/>
  </connection>
  <connection connectorName="SUBJOB_OK" label="OnSubjobOk" lineStyle="1" metaname="tMSSqlConnection_1" offsetLabelX="0" offsetLabelY="0" source="tMSSqlConnection_1" target="tJava_9">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnSubjobOk6"/>
  </connection>
  <connection connectorName="COMPONENT_OK" label="OnComponentOk" lineStyle="3" metaname="tJava_9" offsetLabelX="0" offsetLabelY="0" source="tJava_9" target="tJava_5">
    <elementParameter field="CHECK" name="ACTIVATE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="OnComponentOk4"/>
  </connection>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_2"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="结束"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="开始"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_4"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="开始提取数据库"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMysqlConnection_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="mysql 连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_5"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="读取数据，并写入文件"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMysqlClose_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="关闭 mysql 连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tOracleConnection_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="oracle 连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tOracleClose_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="关闭 oracle 连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tHiveConnection_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="hive 连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tHiveClose_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="关闭 hive 连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_6"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="设置 conn"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_7"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="设置 conn"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_8"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="设置 conn"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMSSqlConnection_1"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="MSSqlServer连接"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="CHECK" name="SHOW_SUBJOB_TITLE" value="true"/>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tJava_9"/>
    <elementParameter field="TEXT" name="SUBJOB_TITLE" value="设置 conn"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
  <subjob>
    <elementParameter field="TEXT" name="UNIQUE_NAME" value="tMSSqlClose_1"/>
    <elementParameter field="COLOR" name="SUBJOB_TITLE_COLOR" value="160;190;240"/>
    <elementParameter field="COLOR" name="SUBJOB_COLOR" value="220;220;250"/>
  </subjob>
</talendfile:ProcessType>
