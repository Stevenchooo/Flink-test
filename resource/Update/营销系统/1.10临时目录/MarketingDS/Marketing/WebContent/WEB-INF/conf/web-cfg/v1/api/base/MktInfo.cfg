{
    "name" : "营销活动管理",

    "methods" : [{
            "name" : "/api/mktInfo/query",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,
            "dataType" : "mktInfo",
            "operation" : "r",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    }, {
                        "name" : "name",
                        "type" : "STRING",
                        "min" : 1,
                        "max" : 50,
                        "desc" : "活动名称，模糊查询"
                    }, {
                        "name" : "from",
                        "type" : "INT",
                        "default" : 0,
                        "min" : 0,
                        "desc" : "开始行号"
                    }, {
                        "name" : "perPage",
                        "type" : "INT",
                        "default" : 10,
                        "min" : 5,
                        "max" : 100,
                        "desc" : "每页显示行数"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktinfoQuery(?,?,?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "mktinfoId",
                                "type" : "INT",
                                "desc" : "活动ID，系统中唯一"
                            }, {
                                "name" : "mktinfoName",
                                "type" : "STRING",
                                "desc" : "活动名称"
                            }, {
                                "name" : "mktinfoProduct",
                                "type" : "STRING",
                                "desc" : "推广产品"
                            }, {
                                "name" : "mktinfoSalePoint",
                                "type" : "STRING",
                                "desc" : "卖点"
                            }, {
                                "name" : "mktinfoPlatform",
                                "type" : "STRING",
                                "desc" : "活动平台"
                            }, {
                                "name" : "mktinfoDeliveryStartTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd",
                                "desc" : "投放开始日期"
                            }, {
                                "name" : "mktinfoDeliveryEndTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd",
                                "desc" : "投放结束日期"
                            }, {
                                "name" : "flag",
                                "type" : "BOOLEAN",
                                "desc" : "是否有权限"
                            },{
                                "name" : "mktinfoCreateTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd HH:mm:SS",
                                "desc" : "投放结束日期"
                            }
                        ]
                    }, {
                        "name" : "total",
                        "merge" : true,
                        "segments" : [{
                                "name" : "total",
                                "type" : "INT",
                                "desc" : "总数"
                            }
                        ]
                    }
                ]
            }
        }, {
            "name" : "/api/mktInfo/queryIdNameList",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,
            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    }
                ]
            },
            "process" : {
                "sql" : "{call sp_mktinfoQueryIdNameList(?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "mktinfoId",
                                "type" : "INT",
                                "desc" : "活动ID，系统中唯一"
                            }, {
                                "name" : "mktinfoName",
                                "type" : "STRING",
                                "desc" : "活动名称"
                            }
                        ]
                    }
                ]
            }
        }, {
            "name" : "/api/mktInfo/queryIdNameListWithControl",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktinfoQueryIdNameListWithControl(?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "mktinfoId",
                                "type" : "INT",
                                "desc" : "活动ID，系统中唯一"
                            }, {
                                "name" : "mktinfoName",
                                "type" : "STRING",
                                "desc" : "活动名称"
                            }
                        ]
                    }
                ]
            }
        }, {
            "name" : "/api/mktInfo/queryMktUserInfo",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" : [{
                        "name" : "mktinfoId",
                        "type" : "INT",
                        "desc" : "营销活动ID"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktInfoUserInfo(?, ?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "mktinfoId",
                                "type" : "INT",
                                "desc" : "营销活动ID"
                            }, {
                                "name" : "account",
                                "type" : "STRING",
                                "desc" : "用户账号"
                            }, {
                                "name" : "flag",
                                "type" : "INT",
                                "desc" : "是否可以查看"
                            }, {
                                "name" : "name",
                                "type" : "STRING",
                                "desc" : "姓名"
                            }, {
                                "name" : "department",
                                "type" : "STRING",
                                "desc" : "部门"
                            }
                        ]
                    }
                ]
            }
        }, {
            "name" : "/api/mktInfo/remove",
            "authType" : "user",
            "type" : "AUTHRDB",
            "dataType" : "mktInfo",
            "operation" : "d",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },
                    {
                        "name" : "mktinfoId",
                        "type" : "INT",
                        "must" : true,
                        "desc" : "活动ID"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktInfoRemove(?,?,?)}"
            }
        }, {
            "name" : "/api/mktInfo/exists",
            "type" : "AUTHRDB",
            "authType" : "user",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },
                    {
                        "name" : "mktInfoName",
                        "type" : "STRING",
                        "must" : true,
                        "min" : 1,
                        "max" : 50,
                        "desc" : "用户账号"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktInfoNameExists(?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "merge" : true,
                        "segments" : [{
                                "name" : "exists",
                                "type" : "BOOL",
                                "desc" : "是否存在"
                            }
                        ]
                    }
                ]
            }
        }, {
            "name" : "/api/mktInfo/create",
            "type" : "AUTHRDB",
            "authType" : "user",
            "desc" : "创建活动",
            "dataType" : "mktInfo",
            "operation" : "c",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    }, {
                        "name" : "pName",
                        "type" : "STRING",
                        "must" : true,
                        "min" : 1,
                        "max" : 50,
                        "desc" : "登录账号，系统中唯一"
                    }, {
                        "name" : "pProduct",
                        "type" : "INT",
                        "must" : true,
                        "default" : 0
                    }, {
                        "name" : "pSalePoint",
                        "type" : "STRING"
                    }, {
                        "name" : "pslogan",
                        "type" : "STRING"
                    }, {
                        "name" : "pStrategicPosition",
                        "type" : "STRING"
                    }, {
                        "name" : "pTargetPopulation",
                        "type" : "STRING"
                    }, {
                        "name" : "pExpectedPrice",
                        "type" : "FLOAT"
                    }, {
                        "name" : "pMarketPace",
                        "type" : "STRING"
                    }, {
                        "name" : "pPlatform",
                        "type" : "STRING"
                    }, {
                        "name" : "pBudget",
                        "type" : "FLOAT"
                    }, {
                        "name" : "pPurchaseMethod",
                        "type" : "STRING"
                    }, {
                        "name" : "pReserveStartTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pReserveEndTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pPurchaseStartTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pDeliveryStartTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pDeliveryEndTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktInfoCreate(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}"
            }
        }, {
            "name" : "/api/mktInfo/updateMktUsers",
            "type" : "AUTHRDB",
            "authType" : "user",
            "desc" : "更新活动",
            "dataType" : "mktInfo",
            "operation" : "u",

            "request" : {
                "parameters" : [{
                        "name" : "mktinfoId",
                        "type" : "INT",
                        "desc" : "活动ID"
                    }, {
                        "name" : "users",
                        "type" : "String",
                        "min" : 0,
                        "max" : 400000,
                        "desc" : "用户信息"
                    }
                ]
            },

            "process" : {
                "processor" : "com.huawei.manager.mkt.api.ManageMktInfoUsers",
                "sql" : "insert into t_mkt_user_ad_info(id, account, flag) values(?,?,?)"

            }
        }, {
            "name" : "/api/mktInfo/modify",
            "type" : "AUTHRDB",
            "authType" : "user",
            "desc" : "更新活动",
            "dataType" : "mktInfo",
            "operation" : "u",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },{
                        "name" : "pId",
                        "type" : "INT",
                        "desc" : "活动ID"
                    }, {
                        "name" : "pName",
                        "type" : "STRING",
                        "must" : true,
                        "min" : 1,
                        "max" : 50,
                        "desc" : "登录账号，系统中唯一"
                    }, {
                        "name" : "pProduct",
                        "type" : "INT"
                    }, {
                        "name" : "pSalePoint",
                        "type" : "STRING"
                    }, {
                        "name" : "pslogan",
                        "type" : "STRING"
                    }, {
                        "name" : "pStrategicPosition",
                        "type" : "STRING"
                    }, {
                        "name" : "pTargetPopulation",
                        "type" : "STRING"
                    }, {
                        "name" : "pExpectedPrice",
                        "type" : "FLOAT"
                    }, {
                        "name" : "pMarketPace",
                        "type" : "STRING"
                    }, {
                        "name" : "pPlatform",
                        "type" : "STRING"
                    }, {
                        "name" : "pBudget",
                        "type" : "FLOAT"
                    }, {
                        "name" : "pPurchaseMethod",
                        "type" : "STRING"
                    }, {
                        "name" : "pReserveStartTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pReserveEndTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pPurchaseStartTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pDeliveryStartTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }, {
                        "name" : "pDeliveryEndTime",
                        "type" : "DATE",
                        "format" : "yyyy-MM-dd"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktInfoModify(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}"
            }
        }, {
            "name" : "/api/mktInfo/detail",
            "type" : "AUTHRDB",
            "authType" : "user",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },{
                        "name" : "mktinfoId",
                        "type" : "INT",
                        "desc" : "营销活动ID"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_mktInfoDetail(?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "mktInfo",
                        "merge" : true,
                        "segments" : [{
                                "name" : "mktinfoName",
                                "type" : "STRING",
                                "must" : true,
                                "min" : 1,
                                "max" : 50,
                                "desc" : "登录账号，系统中唯一"
                            }, {
                                "name" : "mktinfoProduct",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoSalePoint",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoSlogan",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoStrategicPosition",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoTargetPopulation",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoExpectedPrice",
                                "type" : "FLOAT"
                            }, {
                                "name" : "mktinfoMarketPace",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoPlatform",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoBudget",
                                "type" : "FLOAT"
                            }, {
                                "name" : "mktinfoPurchaseMethod",
                                "type" : "STRING"
                            }, {
                                "name" : "mktinfoReserveStartTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd"
                            }, {
                                "name" : "mktinfoReserveEndTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd"
                            }, {
                                "name" : "mktinfoPurchaseStartTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd"
                            }, {
                                "name" : "mktinfoDeliveryStartTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd"
                            }, {
                                "name" : "mktinfoDeliveryEndTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd"
                            },
                            {
                                "name" : "deptType",
                                "type" : "INT",
                            }
                        ]
                    }
                ]
            }
        }, {
            "name" : "/api/mktInfo/queryMktEmailUserInfo",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" : [
                        {
                            "name" : "mktinfoId",
                            "type" : "INT",
                            "desc" : "营销活动ID"
                        },
                        {
                            "name" : "adInfoId",
                            "type" : "INT",
                            "desc" : "广告位ID"
                        },
                        {
                            "name" : "pageInfo",
                            "type" : "STRING",
                            "desc" : "页面信息"
                        }
                    ]
            },

            "process" : {
                
                "sql" : "{call sp_mktEmailUserInfo(?,?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "account",
                                "type" : "STRING",
                                "desc" : "用户账号"
                            }, {
                                "name" : "name",
                                "type" : "STRING",
                                "desc" : "姓名"
                            }, {
                                "name" : "department",
                                "type" : "STRING",
                                "desc" : "部门"
                            }
                        ]
                    }
                ]
            }
        },{
            "name" : "/api/mktInfo/emailMktUsers",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" : [{
                            "name" : "pOperator",
                            "type" : "ACCOUNT",
                            "desc" : "操作人账号"
                        },
                        {
                            "name" : "mktinfoId",
                            "type" : "INT",
                            "desc" : "营销活动ID"
                        }
                    ]
            },

            "process" : {
                "processor" : "com.huawei.manager.mkt.api.EmailMktUserList",
                 "sql" : "{call sp_mktInfoDetail(?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "mktinfoName",
                                "type" : "STRING",
                                "desc" : "姓名"
                            }
                        ]
                    }
                ]
            }
        },{
            "name" : "/api/mktInfo/getMktNameListByDept",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" : [{
                            "name" : "pOperator",
                            "type" : "ACCOUNT",
                            "desc" : "操作人账号"
                        }
                    ]
            },

            "process" : {
                 "sql" : "{call sp_getMktNameListByDept(?,?)}"
            },

            "response" : {
                "results" : [{
					"name" : "result",
					"multi" : true,
					"segments" : [{
								"name" : "mktinfoId",
								"type" : "INT",
								"desc" : "营销活动ID"
							},{
								"name" : "mktinfoName",
								"type" : "STRING",
								"desc" : "活动名称"
							},{
								"name" : "create_time",
								"type" : "STRING",
								"desc" : "创建时间"
							},{
								"name" : "create_year",
								"type" : "STRING",
								"desc" : "创建年份"
							},{
								"name" : "create_month",
								"type" : "STRING",
								"desc" : "创建月份"
							}
						]
                    }
                ]
            }
        },{
            "name" : "/api/generalSituat/GetHonorSession",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,
            "dataType" : "generalSituat",
            "operation" : "r",
            "request" : {
                "parameters" : [
                  	  ]
              },
        	 "process" : {
                "sql" : "none",
                "processor":"com.huawei.manager.mkt.api.GetHonorSession"
            }
		}
        
        
    ]
}