{
"name": "营销活动管理",

"methods": [
      {
        "name":"/api/mktLandForOther/query",
        "authType": "user",
        "type" : "AUTHRDB",
        "writeLog":true,
        "dataType":"mktLandForOther",
        "operation":"r",
        
        "request" : {
            "parameters" : [
                {"name":"pOperator", "type":"ACCOUNT", "desc":"操作人账号"},
                {"name":"mktId", "type":"INT", "desc":"活动ID"},
                {"name":"adState", "type":"INT", "desc":"广告位状态"},
                {"name":"isVMallPlatform", "type":"INT", "desc":"是否是vmall平台，-1：取所有数据；0：非VMall平台；1：VMall平台: 2 天猫、京东以及其他"},
                {"name":"adInfoWebName", "type":"INT", "desc":"网站名称"},
                {"name":"adInfoPort", "type":"INT", "desc":"端口所属"},
                {"name" : "inputUser", "type":"STRING", "desc":"录入人"},
                {"name" : "adInfoDeliveryBeginDay", "type":"STRING", "desc":"投放开始日期"},
                {"name" : "adInfoDeliveryEndDay", "type":"STRING", "desc":"投放结束日期"},
                {"name" : "adqueryDateBeginDay", "type":"STRING", "desc":"更新周期开始日期"},
                {"name" : "adqueryDateEndDay", "type":"STRING", "desc":"更新周期结束日期"},
                {"name":"from", "type":"INT", "default":0, "min":0, "desc":"开始行号"},
                {"name":"perPage", "type":"INT", "default":10, "min":5, "max":100, "desc":"每页显示行数"}
            ]
        },
        
        "process" : {
            "sql" : "{call sp_mktLandInfoQuery(?,?,?,?,?,?,?,?,?,?,?,?,?,?)}"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "result",
                    "multi" : true,
                    "segments" : [
                        {"name":"mktId", "type":"INT", "desc":"活动ID"},
                        {"name":"mktAdInfoCreateTime", "type":"STRING", "desc":"创建时间"},
                        {"name":"mktLandInfoAid", "type":"INT", "desc":"广告位ID"},
                        {"name":"mktLandInfoName", "type":"STRING", "desc":"活动名称"},
                        {"name":"mktLandInfoWebName", "type":"STRING", "desc":"网站名称"},
                        {"name":"mktLandInfoChannel", "type":"STRING", "desc":"频道"},
                        {"name":"mktLandInfoAdPosition", "type":"STRING", "desc":"广告位"},
                        {"name":"mktLandInfoPort", "type":"STRING", "desc":"端口所属"},
                        {"name":"mktLandInfoPlatformDesc", "type":"STRING", "desc":"着陆页面描述"},
                        {"name":"mktLandInfoFlowType", "type":"STRING", "desc":"引流类型"},
                        {"name":"mktLandInfoDeliveryTimes", "type":"STRING", "desc":"投放日期"},
                        {"name":"mktLandInfoState", "type":"STRING", "desc":"当前状态"},
                        {"name":"mktLandInfoStateId", "type":"INT", "desc":"当前状态ID"},
                        {"name":"mktLandInfoSID", "type":"STRING", "desc":"SID"},
                        {"name":"mktLandInfoCPS", "type":"STRING", "desc":"CPS提供商名称"},
                        {"name":"mktLandInfoSource", "type":"STRING", "desc":"Source"},
                        {"name":"mktLandInfoLandChannelName", "type":"STRING", "desc":"渠道名称"},
                        {"name":"mktLandInfoLandChannel", "type":"STRING", "desc":"渠道"},
                        {"name":"mktLandInfoCID", "type":"STRING", "desc":"cid"},
                        {"name":"mktLandInfoLandLink", "type":"STRING", "desc":"着陆链接"}
                        
                    ]
                },
                
                {
                    "name" : "total",
                    "merge" : true,
                    "segments" : [
                        {"name":"total", "type":"INT", "desc":"总数"}
                    ]
                }
            ]
        }
    },
    
    
     {
        "name":"/api/mktLandForOther/modify",
        "type" : "AUTHRDB",
        "authType": "user",
        "desc": "更新着陆链接信息",
        "dataType":"mktLandForOther",
        "operation":"u",
        
        "request" : {
            "parameters" : [
                {"name":"pOperator", "type":"ACCOUNT", "desc":"操作人账号"},
				{"name":"pId", "type":"INT", "desc":"活动ID"},
                {"name":"pLandInfoSID", "type":"STRING","min":0,"max":255, "desc":"SID"},
                {"name":"pLandInfoCPS","min":0,"max":50, "type":"STRING"},
                {"name":"pLandInfoSource","min":0,"max":50, "type":"STRING"},
                {"name":"pLandInfoLandChannelName","min":0,"max":50, "type":"STRING"},
                {"name":"pLandInfoLandChannel", "min":0,"max":50,"type":"STRING"},
                {"name":"pLandInfoCID", "min":1,"max":255,"type":"STRING"},
                {"name":"pLandInfoLandLink", "min":1,"max":200,"type":"STRING"}
            ]
        },
        
        "process" : {
            "sql": "{call sp_mktLandInfoModify(?,?,?,?,?,?,?,?,?,?)}"
        }
    },
    
    {
        "name":"/api/mktLandForOther/modifyHonor",
        "type" : "AUTHRDB",
        "authType": "user",
        "desc": "更新着陆链接信息",
        "dataType":"mktLandForOther",
        "operation":"u",
        
        "request" : {
            "parameters" : [
                {"name":"pOperator", "type":"ACCOUNT", "desc":"操作人账号"},
                {"name":"pId", "type":"INT", "desc":"活动ID"},
                {"name":"pLandInfoLandLink", "min":5, "max":200, "type":"STRING"}
            ]
        },
        
        "process" : {
            "sql": "{call sp_mktLandInfoModifyHonor(?,?,?,?)}"
        }
    },
    
    
     {
        "name":"/api/mktLandForOther/querymodifycontents",
        "type" : "AUTHRDB",
        "authType": "user",
        "desc": "查询可以编辑的广告位内容",
        "dataType":"mktLandForOther",
        "operation":"r",
        
        "request" : {
            "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },
                {"name":"mktLandInfoAid", "type":"INT", "desc":"广告位ID"},
                {"name":"from", "type":"INT", "default":0, "min":0, "desc":"开始行号"},
                {"name":"perPage", "type":"INT", "default":10, "min":5, "max":100, "desc":"每页显示行数"}
            ]
        },
        
        "process" : {
            "sql" : "{call sp_mktLandInfoQueryModifyContents(?,?,?,?,?)}"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "result",
                    "merge" : true,
                    "segments" : [
                        {"name":"mktLandInfoAid", "type":"INT", "desc":"广告位ID"},
                        {"name":"mktLandInfoSID", "type":"STRING", "desc":"SID"},
                        {"name":"mktLandInfoCPS", "type":"STRING", "desc":"CPS提供商名称"},
                        {"name":"mktLandInfoSource", "type":"STRING", "desc":"Source"},
                        {"name":"mktLandInfoLandChannelName", "type":"STRING", "desc":"渠道名称"},
                        {"name":"mktLandInfoLandChannel", "type":"STRING", "desc":"渠道"},
                        {"name":"mktLandInfoCID", "type":"STRING", "desc":"cid"},
                        {"name":"mktLandInfoLandLink", "type":"STRING", "desc":"着陆链接"},
                        {"name":"mktinfoName", "type":"STRING", "desc":"活动名称"},
                        {"name":"adInfoWebName", "type":"STRING", "desc":"网站名称"},
                        {"name":"adInfoChannel", "type":"STRING", "desc":"频道"},
                        {"name":"adInfoPosition", "type":"STRING", "desc":"广告位"},
                        {"name":"adInfoPort", "type":"STRING", "desc":"端口"}
                    ]
                }
            ]
        }
    },
    {
            "name" : "/api/mktLandForOther/templateDownLoad",
            "authType" : "user",
             "type" : "AUTHRDB",
            "operation" : "r",

            "request" : {
                "parameters" : [
                    {
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },
                    {
                        "name" : "vmallFlag",
                        "type" : "BOOLEAN",
                        "must" : true,
                        "default" : false,
                        "desc" : "是否为vmall"
                    }
                ]
            },

            "process" : {
                "processor" : "com.huawei.manager.mkt.api.DownLoadLandInfoTemplate",
                 "sql" : "select exists(select * from t_ms_user where account = ? or account = ?) as 'exists'"
            }
        },
         {
            "name" : "/api/mktLandForOther/uploadFile",
            "type" : "UPLOADRDB",
            "request" : {
                "parameters" : [
                    {
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },
                    {
                        "name" : "batchFlag",
                        "type" : "BOOLEAN"
                       
                    },
                    {
                        "name" : "uploadFile",
                        "type" : "File"
                    }
                    
                    
                ]
            },
            "process" : {
                "maxFileSize" : 100000000,
                "processor" : "com.huawei.manager.mkt.api.LandTemplateFileUpload",
                "sql" : "select exists(select * from t_ms_user where account = ? or account = ?  or account = ?) as 'exists'",
                "type" : "xls"
            }

        },
        
        {
            "name" : "/api/mktLandForOther/landBatchResDownLoad",
            "authType" : "user",
            "type" : "JAVA",
            "operation" : "r",

            "request" : {
                "parameters" : [{
                        "name" : "fileId",
                        "type" : "INT",
                        "must" : true,
                        "desc" : "文件ID"
                    }
                ]
            },

            "process" : {
                "processor" : "com.huawei.manager.mkt.api.AdBatchResDownLoad"
            }
        },
         {
            "name" : "/api/mktLandForOther/detail",
            "type" : "AUTHRDB",
            "authType" : "user",
             "dataType":"mktLandForOther",
            "operation" : "r",
            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    }, {
                        "name" : "adInfoId",
                        "type" : "INT",
                        "desc" : "广告位ID"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_adInfoDetail(?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "adInfo",
                        "merge" : true,
                        "segments" : [{
                                "name" : "detailsAdInfoId",
                                "type" : "INT",
                                "desc" : "广告位ID"
                            }, {
                                "name" : "detailsMktinfoNameId",
                                "type" : "STRING",
                                "desc" : "营销活动名称"
                            }, {
                                "name" : "detailsMktinfoName",
                                "type" : "STRING",
                                "desc" : "营销活动名称"
                            }, {
                                "name" : "detailsAdInfoWebName",
                                "type" : "STRING",
                                "desc" : "网站名称"
                            }, {
                                "name" : "detailsAdInfoChannel",
                                "type" : "STRING",
                                "desc" : "频道"
                            }, {
                                "name" : "detailsAdInfoPosition",
                                "type" : "STRING",
                                "desc" : "广告位"
                            }, {
                                "name" : "detailsMaterialType",
                                "type" : "STRING",
                                "desc" : "广告素材类型"
                            }, {
                                "name" : "detailsMaterialTypeId",
                                "type" : "STRING",
                                "desc" : "广告素材类型Id"
                            }, {
                                "name" : "detailsMaterialDesc",
                                "type" : "STRING",
                                "desc" : "素材要求"
                            }, {
                                "name" : "detailsMaterialState",
                                "type" : "STRING",
                                "desc" : "素材状态"
                            }, {
                                "name" : "detailsAdInfoPort",
                                "type" : "STRING",
                                "desc" : "端口"
                            }, {
                                "name" : "detailsAdInfoPortId",
                                "type" : "STRING",
                                "desc" : "端口"
                            }, {
                                "name" : "detailsAdInfoPlatform",
                                "type" : "STRING",
                                "desc" : "着落平台"
                            }, {
                                "name" : "detailsAdInfoPlatformId",
                                "type" : "STRING",
                                "desc" : "着落平台"
                            }, {
                                "name" : "detailsAdInfoPlatformDesc",
                                "type" : "STRING",
                                "desc" : "平台描述"
                            }, {
                                "name" : "detailsAdInfoDeliveryDays",
                                "type" : "STRING",
                                "desc" : "投放天数"
                            }, {
                                "name" : "detailsAdInfoDeliveryTimes",
                                "type" : "STRING",
                                "desc" : "投入天数"
                            }, {
                                "name" : "detailsOperator",
                                "type" : "STRING",
                                "desc" : "投放人"
                            }, {
                                "name" : "detailsUpdateTime",
                                "type" : "DATE",
                                "format" : "yyyy-MM-dd",
                                "desc" : "更新日期"
                            }, {
                                "name" : "detailsAdInfoFlowType",
                                "type" : "STRING",
                                "desc" : "引流类型"
                            }, {
                                "name" : "detailsAdInfoFlowTypeId",
                                "type" : "STRING",
                                "desc" : "引流类型"
                            }, {
                                "name" : "detailsExpAmount",
                                "type" : "STRING",
                                "desc" : "预计曝光量"
                            }, {
                                "name" : "detailsClickAmount",
                                "type" : "STRING",
                                "desc" : "预计点击量"
                            }, {
                                "name" : "detailsPublishPrice",
                                "type" : "STRING",
                                "desc" : "刊例价"
                            }, {
                                "name" : "detailsNetPrice",
                                "type" : "STRING",
                                "desc" : "净价"
                            }, {
                                "name" : "detailsAdInfoResource",
                                "type" : "STRING",
                                "desc" : "资源来源"
                            }, {
                                "name" : "detailsAdInfoResourceId",
                                "type" : "STRING",
                                "desc" : "资源来源id"
                            }, {
                                "name" : "detailsIsExposure",
                                "type" : "STRING",
                                "desc" : "是否监控曝光"
                            }, {
                                "name" : "detailsIsClick",
                                "type" : "STRING",
                                "desc" : "是否监控点击"
                            }, {
                                "name" : "detailsMonitorPlatform",
                                "type" : "STRING",
                                "desc" : "监控平台"
                            }, {
                                "name" : "detailsMonitorPlatformId",
                                "type" : "STRING",
                                "desc" : "监控平台"
                            }, {
                                "name" : "detailsSid",
                                "type" : "STRING",
                                "desc" : "sid"
                            }, {
                                "name" : "detailsCpsName",
                                "type" : "STRING",
                                "desc" : "cps提供商名称"
                            }, {
                                "name" : "detailsSource",
                                "type" : "STRING",
                                "desc" : "source"
                            }, {
                                "name" : "detailsChannelName",
                                "type" : "STRING",
                                "desc" : "渠道名称"
                            }, {
                                "name" : "detailsChannel",
                                "type" : "STRING",
                                "desc" : "channel"
                            }, {
                                "name" : "detailsCid",
                                "type" : "STRING",
                                "desc" : "cid"
                            }, {
                                "name" : "detailsLandUrl",
                                "type" : "STRING",
                                "desc" : "着陆链接"
                            }, {
                                "name" : "detailsMonitorExposureUrl",
                                "type" : "STRING",
                                "desc" : "曝光链接"
                            }, {
                                "name" : "detailsMonitorClickUrl",
                                "type" : "STRING",
                                "desc" : "监控点击链接"
                            }, {
                                "name" : "detailsAdInfoState",
                                "type" : "STRING",
                                "desc" : "当前状态"
                            },{
                                "name" : "detailsAdInfoStateId",
                                "type" : "STRING",
                                "desc" : "当前状态"
                            },{
                                "name" : "detailsmktinfoId",
                                "type" : "INT",
                                "desc" : "营销活动"
                            }, {
                                "name" : "detailsAdInfoMediaType",
                                "type" : "STRING",
                                "desc" : "mediatype"
                            }
                        ]
                    }
                ]
            }
        },
         {
            "name" : "/api/mktLandForOther/modifyState",
            "authType" : "user",
            "type" : "AUTHRDB",
            "dataType":"mktLandForOther",
            "operation" : "u",
            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    },{
                        "name" : "adInfoId",
                        "type" : "INT",
                        "must" : true,
                        "desc" : "广告位ID"
                    }, {
                        "name" : "adInfoState",
                        "type" : "INT",
                        "must" : true,
                        "desc" : "广告位状态"
                    }
                ]
            },

            "process" : {
                "sql" : "{call sp_adInfoModifyState(?,?,?,?)}"
            }
        },
        {
            "name" : "/api/mktLandForOther/batchPublish",
            "type" : "AUTHRDB",
            "authType" : "user",
            "desc" : "广告位发布",
            "dataType" : "adInfo",
            "operation" : "u",

            "request" : {
                "parameters" : [{
                        "name" : "pOperator",
                        "type" : "ACCOUNT",
                        "desc" : "操作人账号"
                    }, {
                        "name" : "mktId",
                        "type" : "INT",
                        "desc" : "活动ID"
                    }, {
                        "name" : "adState",
                        "type" : "INT",
                        "desc" : "广告位状态"
                    }, {
                        "name" : "adInfoWebName",
                        "type" : "INT",
                        "desc" : "网站名称"
                    }, {
                        "name" : "adInfoPort",
                        "type" : "INT",
                        "desc" : "端口所属"
                    }, {
                        "name" : "inputUser",
                        "type" : "STRING",
                        "desc" : "录入人"
                    }, {
                        "name" : "adInfoDeliveryBeginDay",
                        "type" : "STRING",
                        "desc" : "投放开始日期"
                    }, {
                        "name" : "adInfoDeliveryEndDay",
                        "type" : "STRING",
                        "desc" : "投放结束日期"
                    }, {
                        "name" : "adqueryDateBeginDay",
                        "type" : "STRING",
                        "desc" : "更新周期开始日期"
                    }, {
                        "name" : "adqueryDateEndDay",
                        "type" : "STRING",
                        "desc" : "更新周期结束日期"
                    }, {
                        "name" : "isVMallPlatform",
                        "type" : "INT",
                        "desc" : "isVMallPlatform"
                    }
                ]
            },

            "process" : {
                "processor" : "com.huawei.manager.mkt.api.MktLandInfoBatchPublish",
                "sql" : "{call sp_mktLandInfoQueryBatchAdinfoId(?,?,?,?,?,?,?,?,?,?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "adInfoId",
                                "type" : "INT",
                                "desc" : "广告位ID"
                            }
                        ]
                    }
                ]
            }
        },{
            "name" : "/api/mktLandForOther/queryMktLandEmailUserInfo",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" :[
                        {
                            "name" : "mktinfoId",
                            "type" : "INT",
                            "desc" : "营销活动ID"
                        },
                        {
                            "name" : "adInfoId",
                            "type" : "INT",
                            "desc" : "广告位ID"
                        },
                        {
                            "name" : "pageInfo",
                            "type" : "STRING",
                            "desc" : "页面信息"
                        }
                    ]
            },

            "process" : {
                
                "sql" : "{call sp_mktEmailUserInfo(?,?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "account",
                                "type" : "STRING",
                                "desc" : "用户账号"
                            }, {
                                "name" : "name",
                                "type" : "STRING",
                                "desc" : "姓名"
                            }, {
                                "name" : "department",
                                "type" : "STRING",
                                "desc" : "部门"
                            }
                        ]
                    }
                ]
            }
        },
        {
            "name" : "/api/mktLandForOther/emailLandUsers",
            "authType" : "user",
            "type" : "AUTHRDB",
            "writeLog" : true,

            "request" : {
                "parameters" :[{
                            "name" : "pOperator",
                            "type" : "ACCOUNT",
                            "desc" : "操作人账号"
                        },
                        {
                            "name" : "mktinfoId",
                            "type" : "INT",
                            "desc" : "营销活动ID"
                        }
                    ]
            },

            "process" : {
                "processor" : "com.huawei.manager.mkt.api.EmailMktMonitorUserList",
                 "sql" : "{call sp_mktInfoDetail(?,?,?)}"
            },

            "response" : {
                "results" : [{
                        "name" : "result",
                        "multi" : true,
                        "segments" : [{
                                "name" : "mktinfoName",
                                "type" : "STRING",
                                "desc" : "姓名"
                            }
                        ]
                    }
                ]
            }
        }
  ]
}