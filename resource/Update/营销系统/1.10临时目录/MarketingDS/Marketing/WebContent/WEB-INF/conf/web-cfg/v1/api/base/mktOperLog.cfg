{
"name": "日志查询",

"methods": [
    {
        "name":"/api/mktOperLog/query",
        "type" : "RDB",
        
        "request" : {
            "parameters" : [
                
                {"name":"queryName", "type":"STRING", "must":true, "min":0, "max":120, "desc":"查询用户名称"},                
                {"name":"queryDateBeginDay", "type":"STRING", "must":true, "min":1, "max":10, "desc":"开始时间"},
                {"name":"queryDateEndDay", "type":"STRING", "must":true, "min":1, "max":120, "desc":"结束时间"},
                {"name":"from", "type":"INT", "default":0, "min":0, "desc":"开始行号"},
                {"name":"perPage", "type":"INT", "default":100, "min":5, "max":100, "desc":"每页显示行数"}
            ]
        },
        
        "process" : {
            "sql" : "{call sp_logQuery(?,?,?,?,?,?)}"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "result",
                    "multi" : true,
                    "segments" : [
                        {"name":"operTime", "type":"STRING", "desc":"操作时间"},
                        {"name":"operator", "type":"STRING", "desc":"操作人"},
                        {"name":"operRes", "type":"STRING", "desc":"操作结果"},
                        {"name":"opeRequest", "type":"STRING", "desc":"操作请求"},
                        {"name":"opeRrsponse", "type":"STRING", "desc":"返回信息"}
                        
                    ]
                },
                {
                    "name" : "total",
                    "merge": true,
                    "segments" : [
                        {"name":"total", "type":"INT", "desc":"总数"}
                    ]
                }
            ]
        }
    },
        {
        "name":"/api/mktOperLog/logExport",
        "authType": "mktOperLog",
        "type" : "AUTHRDB",
        "writeLog":true,
        "operation":"r",
        "dataType":"mktOperLog",
        
        "request" : {
            "parameters" : [
                
                {"name":"queryName", "type":"STRING", "desc":"查询用户名称"},
                {"name":"queryDateBeginDay", "type":"STRING", "must":true, "min":1, "max":10, "desc":"开始时间"},
                {"name":"queryDateEndDay", "type":"STRING", "must":true, "min":1, "max":10, "desc":"结束时间"},
                {"name":"from", "type":"INT", "default":0, "min":0, "desc":"开始行号"},
                {"name":"perPage", "type":"INT", "default":5000, "min":5, "max":10000, "desc":"每页显示行数"}
            ]
        },
        
        "process" : {
            "processor": "com.huawei.manager.mkt.api.LogExport",
            "sql" : "{call sp_logQuery(?,?,?,?,?,?)}"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "result",
                    "multi" : true,
                    "segments" : [
                        {"name":"operTime", "type":"STRING", "desc":"操作时间"},
                        {"name":"operator", "type":"STRING", "desc":"操作人"},
                        {"name":"operRes", "type":"STRING", "desc":"操作结果"},
                        {"name":"opeRequest", "type":"STRING", "desc":"操作请求"},
                        {"name":"opeRrsponse", "type":"STRING", "desc":"返回信息"}
                        
                    ]
                },
                {
                    "name" : "total",
                    "merge": true,
                    "segments" : [
                        {"name":"total", "type":"INT", "desc":"总数"}
                    ]
                }
            ]
        }
    }
]
}