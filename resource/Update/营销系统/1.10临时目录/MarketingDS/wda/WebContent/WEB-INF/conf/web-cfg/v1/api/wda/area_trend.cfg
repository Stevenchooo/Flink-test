{
"name": "地域分析",
"methods": [
	
	{
     "name":"/api/wda/visitor/area/distribution",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":true,
     
     "request" : {
     	"parameters" : [     		
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"时间周期"}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.area.Distribution",
     	"sql" : "{call sp_visitor_area_distribution(?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7、8在java中设置*/
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "segments":[
	          		{"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""}		            
	           ]
          },
          {
	          "name" : "hb_data",
	          "segments":[
	          		{"name": "pv",  "type":"LONG",   "desc":""},
	                {"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   
   {
   
     "name":"/api/wda/visitor/area/distribution/map",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":true,
     
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"curKpi", "type":"STRING", "must":true, "desc":""}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.area.MapDistribution",
     	"sql" : "{call sp_visitor_area_distribution_map(?, ?, ?, ?, ?, ?)}"  /* 参数4、5在java中设置*/
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": true,
	          "segments":[
		            {"name": "name",  "type":"STRING",   "desc":""},
		            {"name": "kpiName",  "type":"STRING",   "desc":""},
		            {"name": "event",  "type":"LONG", "desc":""},
		            {"name": "id",  "type":"STRING",   "desc":""}
	           ]
          },
          {
          	  "name" : "totalKpi",
              "segments" : [
                {"name":"totalKpi", "type":"FLOAT", "desc":"总数"}
              ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   {
     "name":"/api/wda/visitor/area/distribution/list",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":true,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"}        	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.area.FetchList",
     	"sql" : "{call sp_visitor_area_distribution_list(?, ?, ?, ?, ?)}"  /* 参数4、5在java中设置*/
     },
     
     "response": {
       "results" : [
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "province_name",  "type":"STRING", "desc":""},
	          		{"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "visits",  "type":"LONG",   "desc":""},
		            {"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""},
		            {"name": "conversions",  "type":"LONG",   "desc":""},
		            {"name": "conversion_rate",  "type":"FLOAT",   "desc":""}
	           ]
          },
          {
	          "name" : "hbdata",
	          "multi": true,
	          "segments":[
	          		{"name": "province_name",  "type":"STRING", "desc":""},
	          		{"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "visits",  "type":"LONG",   "desc":""},
		            {"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""},
		            {"name": "conversions",  "type":"LONG",   "desc":""},
		            {"name": "conversion_rate",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   /* 访客趋势分析 */
   {
     "name":"/api/wda/visitor/area/trend/summary",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
     
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"province_name", "type":"STRING", "must":true, "desc":"时间周期","index":0}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.TrendSummary",
     	"sql" : "{call sp_visitor_trend_summary(?, ?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7、8在java中设置*/
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "segments":[
	                {"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAt",   "desc":""}   
	           ]
          },
          {
	          "name" : "hb_data",
	          "segments":[
	                {"name": "pv",  "type":"LONG",   "desc":""},
	                {"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   {
     "name":"/api/wda/visitor/trend/kpi",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"time_dim", "type":"INT", "must":true, "desc":"时间维度"},
        	{"name":"curKpi1", "type":"STRING", "must":true, "desc":"kpi"},
        	{"name":"curKpi2", "type":"STRING", "must":true, "desc":"kpi"},
        	{"name":"province_name", "type":"STRING", "must":true, "desc":"时间周期","index":0}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.VisitorTrendKpi",
     	"sql" : "{call sp_visitor_trend_kpi(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数8、9、10、11在java中设置*/
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": true,
	          "segments":[
		            {"name": "x",  "type":"STRING",   "desc":""},
		            {"name": "y",  "type":"FLOAT", "desc":""}
	           ]
          },
          {
	          "name" : "hb_data",
	          "multi": true,
	          "segments":[
		            {"name": "x",  "type":"STRING",   "desc":""},
		            {"name": "y",  "type":"FLOAT", "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
				
   {
     "name":"/api/wda/visitor/trend/list",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"time_dim", "type":"INT", "must":true, "desc":"时间维度"},
        	{"name":"province_name", "type":"STRING", "must":true, "desc":"时间周期","index":0}	       	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.VisitorTrendList",
     	"sql" : "{call sp_visitor_trend_list(?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7在java中设置*/
     },
     
     "response": {
       "results" : [
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "pt_h",  "type":"INT", "desc":""},
	          		{"name": "pt_d",  "type":"LONG", "desc":""},
					{"name": "pv",  "type":"LONG", "desc":""},	          		      			          		
	          		{"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""}
	           ]
          },
          {
	          "name" : "hbdata",
	          "multi": true,
	          "segments":[
	          		{"name": "pt_h",  "type":"INT", "desc":""},
	          		{"name": "pt_d",  "type":"LONG", "desc":""},
					{"name": "pv",  "type":"LONG", "desc":""},	          		      			          		
	          		{"name": "avg_visit_time",  "type":"FLOAT",   "desc":""},
		            {"name": "avg_visit_pages",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   /* 访客画像性别比例查询*/
   {
     "name":"/api/wda/visitor/area/userinsight/sex",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.userinsight.UserinsightSexPie",
     	"sql" : "{call sp_visitor_area_userinsight_sex(?, ?, ?, ?, ?)}"  /* 参数5、6、7在java中设置*/
     },
     
     "response": {
       "results" : [
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "key",  "type":"STRING", "desc":""},
	          		{"name": "y",  "type":"LONG", "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   /* 访客画像年龄分布查询*/
   {
     "name":"/api/wda/visitor/area/userinsight/age",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"环比周期"}	       	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.userinsight.UserinsightBar",
     	"sql" : "{call sp_visitor_area_userinsight_age(?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7在java中设置*/
     },
     
     "response": {
       "results" : [
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "y",  "type":"STRING", "desc":""},
	          		{"name": "x",  "type":"STRING", "desc":""}
	           ]
          },
          {
	          "name" : "hbData",
	          "multi": true,
	          "segments":[
	          		{"name": "y",  "type":"STRING", "desc":""},
	          		{"name": "x",  "type":"STRING", "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   /* 访客画像媒体轨迹查询*/
   {
     "name":"/api/wda/visitor/area/userinsight/media",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"环比时间周期"}	       	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.userinsight.UserinsightBar",
     	"sql" : "{call sp_visitor_area_userinsight_media(?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7在java中设置*/
     },
     
     "response": {
       "results" : [
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "x",  "type":"STRING", "desc":""},
	          		{"name": "y",  "type":"STRING", "desc":""},
	           ]
          },
          {
	          "name" : "hbData",
	          "multi": true,
	          "segments":[
	          		{"name": "x",  "type":"STRING", "desc":""},
	          		{"name": "y",  "type":"STRING", "desc":""},
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   /* 访客画像行业倾向查询*/
   {
     "name":"/api/wda/visitor/area/userinsight/industry",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"环比时间周期"}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.visitor.userinsight.UserinsightBar",
     	"sql" : "{call sp_visitor_area_userinsight_industry(?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7在java中设置*/
     },
     
     "response": {
       "results" : [
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "x",  "type":"STRING", "desc":""},
	          		{"name": "y",  "type":"STRING", "desc":""},
	           ]
          },
          {
	          "name" : "hbData",
	          "multi": true,
	          "segments":[
	          		{"name": "x",  "type":"STRING", "desc":""},
	          		{"name": "y",  "type":"STRING", "desc":""},
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   }
		
		
]
}
   
   
   