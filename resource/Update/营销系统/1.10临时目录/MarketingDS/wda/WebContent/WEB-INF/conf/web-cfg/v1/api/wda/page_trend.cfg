{
	"name": "页面分析 ",
	"methods": [
   {
     "name":"/api/wda/pages/summary",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
     "timeout":200000,
     
     "request" : {
     	"parameters" : [     		
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"时间周期"}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.page.FetchSummary",
     	"sql" : "{call sp_pages_summary(?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7、8在java中设置*/
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "segments":[
	          		{"name": "total",  "type":"LONG",   "desc":""},
		            {"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "ip",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "total_visit_time",  "type":"FLOAT",   "desc":""},
	          		{"name": "exit_rate",  "type":"FLOAT",   "desc":""}		            
	           ]
          },
          {
	          "name" : "hb_data",
	          "segments":[
	          		{"name": "total",  "type":"LONG",   "desc":""},
	                {"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "ip",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},			          		
	          		{"name": "total_visit_time",  "type":"FLOAT",   "desc":""}
	          		{"name": "exit_rate",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
  
  {
     "name":"/api/wda/pages/list",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
     "timeout":200000,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"}        	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.page.FetchList",
     	"sql" : "{call sp_pages_list(?, ?, ?, ?, ?)}"  /* 参数4、5在java中设置*/
     },
     
     "response": {
       "results" : [
       	  
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "page_url",  "type":"STRING", "desc":""},
	          		{"name": "pv",  "type":"LONG",   "desc":""},
	          		{"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "exit_rate",  "type":"FLOAT",   "desc":""}
	           ]
          },
          {
	          "name" : "hbdata",
	          "multi": true,
	          "segments":[
	          		{"name": "page_url",  "type":"STRING", "desc":""},
	          		{"name": "pv",  "type":"LONG",   "desc":""},
	          		{"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "exit_rate",  "type":"FLOAT",   "desc":""}
	           ]
          }
       	  
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   /* 页面上下游*/
   {
     "name":"/api/wda/pages/updown",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
     "timeout":200000,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"}
        	{"name":"tab", "type":"INT", "must":true, "desc":"请求类型"}
        	{"name":"pageUrl", "type":"STRING", "must":true, "desc":"请求url"}         	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.page.trend.FetchUpDown",
     	"sql" : "{call sp_pages_updown_summary(?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6在java中设置*/
     },
     
     "response": {
       "results" : [
       	  
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "updown_page_url",  "type":"STRING", "desc":""},
	          		{"name": "pv",  "type":"LONG",   "desc":""},
	          		{"name": "uv",  "type":"LONG",   "desc":""}
	           ]
          },
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
  
   /* 单页面访问分析*/
   {
     "name":"/api/wda/pages/trend/summary",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
     "timeout":200000,
     
     "request" : {
     	"parameters" : [     		
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"page_url", "type":"STRING", "must":true, "index":0,"desc":"时间周期"}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.page.trend.FetchSummary",
     	"sql" : "{call sp_pages_trend_summary(?, ?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7、8、9在java中设置*/
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "segments":[
		            {"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "exit_rate",  "type":"FLOAT",   "desc":""}	            
	           ]
          },
          {
	          "name" : "hb_data",
	          "segments":[
		            {"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "exit_rate",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
   
   {
     "name":"/api/wda/pages/trend/kpi",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":true,
        
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"huanBiDate", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"time_dim", "type":"INT", "must":true, "desc":"时间维度"},
        	{"name":"curKpi1", "type":"STRING", "must":true, "desc":"kpi"},
        	{"name":"curKpi2", "type":"STRING", "must":true, "desc":"kpi"},
        	{"name":"page_url", "type":"STRING", "must":true, "index":0,"desc":"时间周期"}
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.page.trend.FetchMultiKpi",
     	"sql" : "{call sp_pages_trend_kpi(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)}"  /* 参数8、9、10、11、12在java中设置*/
     },
     
     "response": {
       "results" : [
       	  
          {
	          "name" : "data",
	          "multi": true,
	          "segments":[
		            {"name": "x",  "type":"STRING",   "desc":""},
		            {"name": "y",  "type":"FLOAT", "desc":""}
	           ]
          },
          {
	          "name" : "hb_data",
	          "multi": true,
	          "segments":[
		            {"name": "x",  "type":"STRING",   "desc":""},
		            {"name": "y",  "type":"FLOAT", "desc":""}
	           ]
          }
          
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   },
      
   {
     "name":"/api/wda/pages/trend/list",
     "type" : "AUTHRDB",
     "authType" : "user",
     "writeLog":false,
             
     "request" : {
     	"parameters" : [
        	{"name":"site_id", "type":"STRING", "must":true, "desc":"网站id"},
        	{"name":"periodTime", "type":"STRING", "must":true, "desc":"时间周期"},
        	{"name":"time_dim", "type":"INT", "must":true, "desc":"时间维度"},
        	{"name":"page_url", "type":"STRING", "must":true, "index":0,"desc":"时间周期"}	          	
        ]
     },
     
     "process" : {
     	"processor" : "com.huawei.wda.api.page.trend.FetchList",
     	"sql" : "{call sp_pages_trend_list(?, ?, ?, ?, ?, ?, ?)}"  /* 参数5、6、7在java中设置*/
     },
     
     "response": {
       "results" : [
       	  
       	  {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	          		{"name": "pt_h",  "type":"INT", "desc":""},
	          		{"name": "pt_d",  "type":"LONG", "desc":""},
					{"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "exit_rate",  "type":"FLOAT",   "desc":""}
	           ]
          },
          {
	          "name" : "hbdata",
	          "multi": true,
	          "segments":[
	          		{"name": "pt_h",  "type":"INT", "desc":""},
	          		{"name": "pt_d",  "type":"LONG", "desc":""},
					{"name": "pv",  "type":"LONG",   "desc":""},
		            {"name": "uv",  "type":"LONG",   "desc":""},
		            {"name": "exit_pages",  "type":"LONG",   "desc":""},
		            {"name": "exit_rate",  "type":"FLOAT",   "desc":""}
	           ]
          }
       ],
       "errorPages":[
            {
              "template":"/base/relogin.ftl",
              "code":8
            }
        ]
       
     }
   }
		
		
		
]
}
   
   
   