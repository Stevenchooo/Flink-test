{
	"name": "后台管理",
	"methods": [
   
	{
     "name":"/api/wda/admin/website/list",
     "type":"AUTHRDB",
     "authType":"none",
     "writeLog":false,
     
     "process" : {
        /* 查询所有的site */
        "sql" : "select t1.id, t1.site_id, t1.site_name, t1.site_url, t1.createtime, t1.creator, t2.name FROM ( select * from t_wda_site_basic_info) t1 LEFT OUTER JOIN (select  *  from t_wda_group) t2 on t1.group_id = t2.id",
        "scopePara" :"123",
      },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": true,
	          "segments":[
	                {"name":"id", "type":"INT", "desc":""},
		            {"name":"site_id", "type":"STRING", "desc":""},
		            {"name":"site_name", "type":"STRING", "desc":""},
		            {"name":"site_url", "type":"STRING", "desc":""},
		            {"name":"creator", "type":"STRING", "desc":"创建人"},
                    {"name":"createtime", "type":"DATE", "format":"yyyy-MM-dd HH:mm:ss", "desc":"创建日期"},
		            {"name":"name", "type":"STRING", "desc":""}
	           ]
          }
       ]
     }  
   },
   
   
   {
     "name":"/api/wda/admin/website/queryById",
     "type":"AUTHRDB",
     "authType":"user",
     "writeLog":false,
     
     "request" : {
            "parameters" : [
                {"name":"id", "type":"INT", "desc":""}
            ]
      },
     
     "process" : {
        "sql" : "select * from t_wda_site_basic_info where id = ?",
        "scopePara" : "123"
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": false,
	          "segments":[
		            {"name":"id", "type":"INT", "desc":""},
		            {"name":"site_id", "type":"STRING", "desc":""},
		            {"name":"site_name", "type":"STRING", "desc":""},
		            {"name":"site_url", "type":"STRING", "desc":""},
		            {"name":"group_id", "type":"INT", "desc":""}
	           ]
          }
       ]
     }  
   },
    
   {
   	"name":"/api/wda/admin/website/delete",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
            
        "request" : {
            "parameters" : [
                {"name":"id", "type":"INT", "desc":""}
            ]
        },
        
        "process" : {
            "sql" : "delete from t_wda_site_basic_info where id = ?",
            "scopePara" : "123"
        }
   },
   
   
   {
   	"name":"/api/wda/admin/website/create",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        	    
        "request" : {
            "parameters" : [
                {"name":"creator", "type":"ACCOUNT", "desc":"账号"},
                {"name":"site_id", "type":"STRING", "min":1, "desc":"", "max":512},
                {"name":"site_name", "type":"STRING", "min":1, "max":50, "desc":""},
                {"name":"site_url", "type":"STRING", "min":1, "max":100, "desc":""},
                {"name":"group_id", "type":"INT", "desc":""}
            ]
        },
        
        "process" : {
            /* "sql" : "insert into t_wda_site_basic_info(site_id, site_name, site_url, group_id) values(?, ?, ?, ?)" */
            "processor" : "com.huawei.wda.api.backmanage.WebsiteManagerment",
            "sql": "{call sp_websiteCreate(?,?,?,?,?,?)}",
            "scopePara" : "123"
        }
   },
        	    
   {
        "name":"/api/wda/admin/website/update",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        
        "request" : {
            "parameters" : [
            	{"name":"creator", "type":"ACCOUNT", "desc":"账号", "min":1, "max":40,},
            	{"name":"id", "type":"INT", "desc":""},
                {"name":"site_id", "type":"STRING", "must":true, "min":1, "max":512, "desc":""},
                {"name":"site_name", "must":true, "type":"STRING", "min":1, "max":50, "desc":""},
                {"name":"site_url", "type":"STRING", "must":true, "min":1, "max":100, "desc":"联系电话"},
                {"name":"group_id", "type":"INT", "desc":""}
            ]
        },
        
        "process" : {
            "processor" : "com.huawei.wda.api.backmanage.WebsiteManagerment",
            "sql": "{call sp_websiteModify(?,?,?,?,?,?,?)}",
            "scopePara" : "123"
        }
    },
    
   
   {
        "name":"/api/wda/admin/user/create",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        
        "request" : {
            "parameters" : [
            	/*{"index":2,"name":"creator", "type":"ACCOUNT","min":1, "desc":"账号"},*/
                {"index":2,"name":"account", "type":"STRING", "must":true, "min":6, "max":40, "desc":"登录账号，系统中唯一"},
                {"name":"password", "type":"PASSWORD", "check":true, "partner":"account", "verify":true, "min":6, "max":50, "desc":"密码", "log":false, "index":0},
                {"name":"confirmPassword", "type":"PASSWORD", "min":6, "max":50, "desc":"重输入密码", "log":false, "index":0},
                {"index":3,"name":"fullName", "type":"STRING", "must":true,"min":1, "max":10, "desc":""},
                {"index":4,"name":"department", "type":"STRING", "must":false, "max":100, "desc":""},
                {"index":5,"name":"phoneNum", "type":"INT", "codeMode":"encode", "must":false, "max":20, "desc":"联系电话", "log":false},
                {"index":6,"name":"email", "type":"STRING", "codeMode":"encode", "must":false, "max":30, "desc":"邮箱", "log":false},
                {"index":7,"name":"description", "type":"STRING", "must":false, "max":200, "desc":"", "log":false},
                {"index":8,"name":"isAdmin", "type":"INT", "must":true, "min":1, "max":10, "desc":"", "log":false},
                {"index":9,"name":"isHonor", "type":"INT", "must":true, "min":1, "max":10, "desc":"", "log":false}
            ]
        },
        
        "process" : {
        	"processor" : "com.huawei.wda.api.home.ShowWebsiteListTwo",
            "sql": "{call sp_userCreate(?,?,?,?,?,?,?,?,?,?)}",
            "scopePara" : "123"
        }
    },
   
    {
        "name":"/api/wda/admin/user/update",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        
        "request" : {
            "parameters" : [
            	{"index":1, "name":"account", "type":"STRING", "must":true, "min":6, "max":40, "desc":"登录账号，系统中唯一"},
                {"index":3, "name":"fullName", "type":"STRING", "must":true, "min":1, "max":10, "desc":""},
                {"index":4, "name":"department", "must":false, "type":"STRING", "max":100, "desc":""},
                {"index":5, "name":"description", "must":false, "type":"STRING", "max":200, "desc":""},
                {"index":6, "name":"phoneNum", "type":"INT", "codeMode":"encode", "must":false, "max":20, "desc":"联系电话", "log":false},
                {"index":7, "name":"email", "type":"STRING", "codeMode":"encode", "must":false, "max":30, "desc":"邮箱", "log":false},
                {"index":8, "name":"isAdmin", "type":"INT", "min":1, "max":10,"desc":""},
                {"index":9, "name":"isHonor", "type":"INT", "min":1, "max":10,"desc":""},
                {"index":10, "name":"id", "type":"INT", "desc":""},
            ]
        },
        
        "process" : {
            "sql" : "update t_ms_user set account=?, creator=?, fullName=?, department=?, description=?, phoneNum=?, email=?, isAdmin=?, isHonor=? where id = ?",
            "processor" : "com.huawei.wda.api.home.ShowWebsiteListTwo",
            "scopePara" : "123"
            /* "sql": "{call sp_userModify(?,?,?,?,?,?,?,?)}" */
        }
    },
   
    
    {
   	    "name":"/api/wda/admin/user/delete",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        
        "request" : {
            "parameters" : [
                {"name":"id", "type":"INT", "desc":""}
            ]
        },
        
        "process" : {
        	"processor" : "com.huawei.wda.api.backmanage.UserDelete",
            "sql" : "delete from t_ms_user where id = ?",
            "scopePara" : "123"
        }
    },
   
    {
        "name":"/api/wda/admin/user/select",
        "type":"AUTHRDB",
        "authType":"none",
        "writeLog":false,
        
        "process" : {
            "sql": "select account as id, fullName as name from t_ms_user",
            "scopePara" : "123"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "data",
                    "multi" : true,
                    "segments" : [
                        {"name":"id", "type":"STRING", "desc":"登录账号，系统中唯一"},
                        {"name":"name", "type":"STRING", "desc":"联系电话", "log":false}
                    ]
                }
            ]
        }
    },
    
    {
        "name":"/api/wda/admin/user/list",
        "type":"AUTHRDB",
        "authType":"none",
        "writeLog":false,
        
        "process" : {
            "sql": "select * from t_ms_user where account != 'admin123'",
            "scopePara" : "123"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "data",
                    "multi" : true,
                    "segments" : [
                        {"name":"id", "type":"INT", "desc":""},
                        {"name":"account", "type":"STRING", "desc":"登录账号，系统中唯一"},
                        {"name":"fullName", "type":"STRING", "desc":"联系电话", "log":false},
                        {"name":"department", "type":"STRING", "desc":"联系电话", "log":false},
                        {"name":"phoneNum", "type":"STRING", "codeMode":"decode", "desc":"联系电话", "log":false},
                        {"name":"email", "type":"STRING", "codeMode":"decode", "desc":"邮箱", "log":false},
                        {"name":"creator", "type":"STRING", "desc":"创建人"},
                        {"name":"createTime", "type":"DATE", "format":"yyyy-MM-dd HH:mm:ss", "desc":"创建日期"},
                        {"name":"description", "type":"STRING", "desc":"描述"},
                        {"name":"isAdmin", "type":"INT", "desc":""},
                        {"name":"isHonor", "type":"INT", "desc":""}
                    ]
                }
            ]
        }
    },
    
   {
     "name":"/api/wda/admin/user/queryById",
     "type":"AUTHRDB",
     "authType":"none",
     "writeLog":false,
     
     "request" : {
            "parameters" : [
                {"name":"id", "type":"INT", "desc":""}
            ]
      },
     
     "process" : {
        "sql" : "select * from  t_ms_user where id = ?",
        "scopePara" : "123"
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": false,
	          "segments":[
		            {"name":"id", "type":"INT", "desc":""},
                    {"name":"account", "type":"STRING", "desc":"登录账号，系统中唯一"},                    
                    {"name":"fullName", "type":"STRING", "desc":"联系电话", "log":false},
                    {"name":"department", "type":"STRING", "desc":"联系电话", "log":false},
                    {"name":"phoneNum", "type":"STRING", "codeMode":"decode", "desc":"联系电话", "log":false},
                    {"name":"email", "type":"STRING", "codeMode":"decode", "desc":"邮箱", "log":false},
                    {"name":"creator", "type":"STRING", "desc":"创建人"},
                    {"name":"createTime", "type":"DATE", "format":"yyyy-MM-dd HH:mm:ss", "desc":"创建日期"},                    
                    {"name":"description", "type":"STRING", "desc":"描述"},
                    {"name":"isAdmin", "type":"INT", "desc":"是否管理员"},
                    {"name":"isHonor", "type":"INT", "desc":""}
	           ]
          }
       ]
     }  
   },
   
   {
     "name":"/api/wda/admin/user/queryUserGroups",
     "type":"AUTHRDB",
     "authType":"none",
     "writeLog":false,
     
     "request" : {
            "parameters" : [
                {"name":"userId", "type":"INT", "desc":""}
            ]
      },
     
     "process" : {
        "sql" : "select groupName from  t_wda_user_group where userId = ?",
        "scopePara" : "123"
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": true,
	          "segments":[
                    {"name":"groupName", "type":"STRING", "desc":"登录账号，系统中唯一"}                    
	           ]
          }
       ]
     }  
   },
   
   
   /*  群组管理  */
   
   {
        "name":"/api/wda/admin/group/list",
        "type":"AUTHRDB",
        "authType":"none",
        "writeLog":false,
        
        "process" : {
            "sql": "select * FROM (select id, name, creator, createtime from t_wda_group) t1 left OUTER JOIN (select groupId, GROUP_CONCAT(userName) as userName from t_wda_group_user group by groupId) t2 on t1.id = t2.groupId",
            "scopePara" : "123"            
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "data",
                    "multi" : true,
                    "segments" : [
                        {"name":"id", "type":"INT", "desc":""},
                        {"name":"name", "type":"STRING", "desc":"登录账号，系统中唯一"},
                        {"name":"userName", "type":"STRING", "desc":"登录账号，系统中唯一"},
                        {"name":"creator", "type":"STRING", "desc":"创建人"},
                        {"name":"createtime", "type":"DATE", "format":"yyyy-MM-dd HH:mm:ss", "desc":"创建日期"}                        
                    ]
                }
            ]
        }
    },
    
    {
        "name":"/api/wda/admin/group/select",
        "type":"AUTHRDB",
        "authType":"none",
        "writeLog":false,
        
        "process" : {
            "sql": "select id, name from t_wda_group",
            "scopePara" :"123"
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "data",
                    "multi" : true,
                    "segments" : [
                        {"name":"id", "type":"INT", "desc":"登录账号，系统中唯一"},
                        {"name":"name", "type":"STRING", "desc":"联系电话", "log":false}
                    ]
                }
            ]
        }
    },
    
   {
   	"name":"/api/wda/admin/group/create",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
            
        "request" : {
            "parameters" : [
                {"name":"creator", "type":"ACCOUNT", "desc":"账号"},
                {"name":"name", "type":"STRING", "min":1, "max":50, "desc":""},
                {"name":"userId", "type":"STRING", "desc":""},
                {"name":"userName", "type":"STRING", "desc":""}
            ]
        },
        
        "process" : {
        	"processor" : "com.huawei.wda.api.backmanage.GroupCreate",
            "sql": "{call sp_groupCreate(?,?,?,?,?)}",
            "scopePara" : "123"
        }
   },
   
   {
     "name":"/api/wda/admin/group/queryById",
     "type":"AUTHRDB",
     "authType":"none",
     "writeLog":false,
     
     "request" : {
            "parameters" : [
                {"name":"id", "type":"INT", "desc":""}
            ]
      },
     
     "process" : {
        "sql": "{call sp_groupQueryById(?,?)}",
        "scopePara" : "123"
     },
     
     "response": {
       "results" : [
          {
	          "name" : "data",
	          "multi": false,
	          "segments":[
		            {"name":"id", "type":"INT", "desc":""},
                    {"name":"name", "type":"STRING", "desc":"登录账号，系统中唯一"},
                    {"name":"creator", "type":"STRING", "desc":"创建人"},
                    {"name":"createtime", "type":"DATE", "format":"yyyy-MM-dd HH:mm:ss", "desc":"创建日期"}
	           ]
          },
          {
	          "name" : "userData",
	          "multi": true,
	          "segments":[
		            
                    {"name":"id", "type":"STRING", "desc":"登录账号，系统中唯一"},
                    {"name":"name", "type":"STRING", "desc":"创建人"}
	           ]
          }
       ]
     }  
   },
   
   
   {
   	    "name":"/api/wda/admin/group/delete",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        
        "request" : {
            "parameters" : [
                {"name":"id", "type":"INT", "desc":""}
            ]
        },
        
        "process" : {
        	"processor" : "com.huawei.wda.api.backmanage.GroupDelete",
            /* "sql" : "delete from t_wda_group where id = ?" */
            "sql": "{call sp_groupDelete(?,?)}",
            "scopePara" : "123"
        }
    },
    
   
   {
        "name":"/api/wda/admin/group/update",
        "type" : "AUTHRDB",
        "authType" : "user",
        "writeLog":false,
        
        "request" : {
            "parameters" : [
            	{"name":"creator", "type":"ACCOUNT", "desc":"账号"},
                {"name":"name", "type":"STRING", "min":1, "max":50, "desc":""},
                {"name":"id", "type":"INT", "desc":""},
                {"name":"userId", "type":"STRING", "desc":""},
                {"name":"userName", "type":"STRING", "desc":""}
            ]
        },
        
        "process" : {
        	"processor" : "com.huawei.wda.api.backmanage.GroupCreate",
            "sql": "{call sp_groupModify(?,?,?,?,?,?)}",
            "scopePara" : "123"
        }
   },
   
   {
        "name":"/api/UserPermission",
        "type":"AUTHRDB",
        "authType":"none",
        "writeLog":false,
        
        "process" : {
        	/*"processor" : "com.huawei.wda.api.backmanage.Permission",*/
            "sql": "select account,isAdmin from t_ms_user",
        },
        
        "response" : {
            "results" : [
                {
                    "name" : "data",
                    "multi" : true,
                    "segments" : [
                        {"name":"account", "type":"STRING", "desc":"登录账号，系统中唯一"},
                        {"name":"isAdmin", "type":"INT", "desc":"是否管理员", "log":false}
                    ]
                }
            ]
        }
   },
]
}
